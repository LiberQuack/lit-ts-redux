{"version":3,"sources":["../node_modules/node-libs-browser/node_modules/process/browser.js","../node_modules/page/page.js","core/common/route-context.ts","core/router.ts","core/subscribable.ts","core/resource-manager.ts","core/application.ts","application/models/counter.ts","../node_modules/parcel/src/builtins/bundle-url.js","../node_modules/parcel/src/builtins/bundle-loader.js","application/router.ts","application/app.ts","../src/lib/directive.ts","../src/lib/dom.ts","../src/lib/part.ts","../src/lib/template.ts","../src/lib/template-instance.ts","../src/lib/template-result.ts","../src/lib/parts.ts","../src/lib/default-template-processor.ts","../src/lib/template-factory.ts","../src/lib/render.ts","src/lit-html.ts","../src/lib/modify-template.ts","../src/lib/shady-render.ts","../src/lib/updating-element.ts","../src/lib/decorators.ts","../src/lib/css-tag.ts","src/lit-element.ts","ui/components/toolbar.ts","../node_modules/node-libs-browser/node_modules/util/support/isBufferBrowser.js","../node_modules/node-libs-browser/node_modules/inherits/inherits_browser.js","../node_modules/node-libs-browser/node_modules/util/util.js","../node_modules/events/events.js","core/ui/json-tree-view/JSONView.js","core/ui/appik-console.ts","core/ui/appik-inspector.ts","ui/components/drawer.ts","ui/app-manager.ts","index.ts","ui/simple-element.ts","ui/page-element.ts","../node_modules/parcel/src/builtins/loaders/browser/js-loader.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","replace","require","loadBundlesLazy","bundles","isArray","id","Promise","resolve","code","LazyPromise","reject","loadBundles","slice","then","all","map","loadBundle","bundleLoaders","registerBundleLoader","type","loader","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","catch","executor","promise","onSuccess","onError","getOwnPropertyDescriptors","Object","obj","keys","descriptors","getOwnPropertyDescriptor","formatRegExp","format","f","isString","objects","inspect","join","str","String","x","Number","JSON","stringify","_","isNull","isObject","deprecate","fn","msg","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","console","trace","error","debugEnviron","debugs","opts","ctx","seen","stylize","stylizeNoColor","formatValue","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","styleType","style","styles","arrayToHash","hash","forEach","val","idx","value","recurseTimes","isFunction","constructor","ret","primitive","formatPrimitive","visibleKeys","isError","getOwnPropertyNames","indexOf","formatError","isRegExp","RegExp","toString","isDate","Date","base","output","braces","toUTCString","formatArray","key","formatProperty","pop","reduceToSingleString","simple","isNumber","l","hasOwnProperty","desc","get","set","split","line","substr","reduce","prev","cur","numLinesEst","ar","arg","isNullOrUndefined","isSymbol","re","objectToString","d","isPrimitive","o","pad","n","debuglog","toUpperCase","test","pid","isBuffer","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","log","inherits","origin","add","kCustomPromisifiedSymbol","Symbol","undefined","callbackifyOnRejected","reason","cb","newReason","callbackify","original","TypeError","callbackified","maybeCb","self","rej","setPrototypeOf","getPrototypeOf","defineProperties","promisify","defineProperty","enumerable","writable","configurable","promiseResolve","promiseReject","custom","ReflectOwnKeys","R","Reflect","ReflectApply","target","receiver","Function","ProcessEmitWarning","warning","warn","ownKeys","getOwnPropertySymbols","NumberIsNaN","isNaN","EventEmitter","init","_events","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","listener","prepend","m","events","existing","create","newListener","unshift","w","emitter","count","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","arr","copy","spliceOne","list","index","RangeError","setMaxListeners","getMaxListeners","doError","er","message","context","handler","position","originalListener","shift","rawListeners","eventNames","util","EE","JSONTreeView","name_","value_","parent_","isRoot_","regexFilter","oldType","hidden","readonly","readonlyWhenFiltering","alwaysShowRoot","showCount","showCountOfObjectOrArray","includingRootName","domEventListeners","children","expanded","edittingName","edittingValue","nameEditable","valueEditable","dom","container","document","createElement","collapseExpand","separator","spacing","delete","insert","setBit","b","j","refresh","silent","expandable","child","display","expand","collapse","recursive","className","classList","remove","getObjProps","props","Set","entries","filter","it","sort","a","localeCompare","v","k","splice","removeChild","addChild","setName","newName","nameType","oldName","innerText","buildObjPresentation","newValue","setValue","oldValue","getType","updateObjectChildCount","onChildRename","onChildDelete","onChildChange","onChildAppend","onChildClick","onChildExpand","onChildCollapse","onChildRefresh","appendChild","parentNode","destroy","parent","isRoot","editField","field","editable","element","inserting","setAttribute","focus","execCommand","itemClicked","withRootName","editFieldStop","p","edittingNameText","removeAttribute","text","parse","editFieldKeyPressed","editFieldTabPressed","preventDefault","keyPath","allow","nameOrValue","sender","recursed","deletedValue","parentType","passive","addDomEventListener","addEventListener","result","ro","rowf","filterText","h","show","updateCount","regex","event","removeEventListener","editName","editValue","onCollapseExpandClick","numericValueKeyDown","increment","currentValue","shiftKey","ctrlKey","metaKey","parseFloat","toFixed","onInsertClick","onDeleteClick","script","async","charset","src","onerror","onload","getElementsByTagName"],"mappings":"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","file":"src.4e7582c6.js","sourceRoot":"../src","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.page = factory());\n}(this, (function () { 'use strict';\n\nvar isarray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {String} str\n * @return {Array}\n */\nfunction parse (str) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var suffix = res[6];\n    var asterisk = res[7];\n\n    var repeat = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n    var delimiter = prefix || '/';\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?');\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: escapeGroup(pattern)\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {String}   str\n * @return {Function}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^' + tokens[i].pattern + '$');\n    }\n  }\n\n  return function (obj) {\n    var path = '';\n    var data = obj || {};\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received \"' + value + '\"')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encodeURIComponent(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = encodeURIComponent(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {String} str\n * @return {String}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path);\n  var re = tokensToRegExp(tokens, options);\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i]);\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {Array}  tokens\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n  var lastToken = tokens[tokens.length - 1];\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken);\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = token.pattern;\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (prefix) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isarray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options)\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(path, keys, options)\n  }\n\n  return stringToRegexp(path, keys, options)\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n   * Module dependencies.\n   */\n\n  \n\n  /**\n   * Short-cuts for global-object checks\n   */\n\n  var hasDocument = ('undefined' !== typeof document);\n  var hasWindow = ('undefined' !== typeof window);\n  var hasHistory = ('undefined' !== typeof history);\n  var hasProcess = typeof process !== 'undefined';\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = hasDocument && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var isLocation = hasWindow && !!(window.history.location || window.location);\n\n  /**\n   * The page instance\n   * @api private\n   */\n  function Page() {\n    // public things\n    this.callbacks = [];\n    this.exits = [];\n    this.current = '';\n    this.len = 0;\n\n    // private things\n    this._decodeURLComponents = true;\n    this._base = '';\n    this._strict = false;\n    this._running = false;\n    this._hashbang = false;\n\n    // bound functions\n    this.clickHandler = this.clickHandler.bind(this);\n    this._onpopstate = this._onpopstate.bind(this);\n  }\n\n  /**\n   * Configure the instance of page. This can be called multiple times.\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.configure = function(options) {\n    var opts = options || {};\n\n    this._window = opts.window || (hasWindow && window);\n    this._decodeURLComponents = opts.decodeURLComponents !== false;\n    this._popstate = opts.popstate !== false && hasWindow;\n    this._click = opts.click !== false && hasDocument;\n    this._hashbang = !!opts.hashbang;\n\n    var _window = this._window;\n    if(this._popstate) {\n      _window.addEventListener('popstate', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('popstate', this._onpopstate, false);\n    }\n\n    if (this._click) {\n      _window.document.addEventListener(clickEvent, this.clickHandler, false);\n    } else if(hasDocument) {\n      _window.document.removeEventListener(clickEvent, this.clickHandler, false);\n    }\n\n    if(this._hashbang && hasWindow && !hasHistory) {\n      _window.addEventListener('hashchange', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('hashchange', this._onpopstate, false);\n    }\n  };\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {string} path\n   * @api public\n   */\n\n  Page.prototype.base = function(path) {\n    if (0 === arguments.length) return this._base;\n    this._base = path;\n  };\n\n  /**\n   * Gets the `base`, which depends on whether we are using History or\n   * hashbang routing.\n\n   * @api private\n   */\n  Page.prototype._getBase = function() {\n    var base = this._base;\n    if(!!base) return base;\n    var loc = hasWindow && this._window && this._window.location;\n\n    if(hasWindow && this._hashbang && loc && loc.protocol === 'file:') {\n      base = loc.pathname;\n    }\n\n    return base;\n  };\n\n  /**\n   * Get or set strict path matching to `enable`\n   *\n   * @param {boolean} enable\n   * @api public\n   */\n\n  Page.prototype.strict = function(enable) {\n    if (0 === arguments.length) return this._strict;\n    this._strict = enable;\n  };\n\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.start = function(options) {\n    var opts = options || {};\n    this.configure(opts);\n\n    if (false === opts.dispatch) return;\n    this._running = true;\n\n    var url;\n    if(isLocation) {\n      var window = this._window;\n      var loc = window.location;\n\n      if(this._hashbang && ~loc.hash.indexOf('#!')) {\n        url = loc.hash.substr(2) + loc.search;\n      } else if (this._hashbang) {\n        url = loc.search + loc.hash;\n      } else {\n        url = loc.pathname + loc.search + loc.hash;\n      }\n    }\n\n    this.replace(url, null, true, opts.dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  Page.prototype.stop = function() {\n    if (!this._running) return;\n    this.current = '';\n    this.len = 0;\n    this._running = false;\n\n    var window = this._window;\n    this._click && window.document.removeEventListener(clickEvent, this.clickHandler, false);\n    hasWindow && window.removeEventListener('popstate', this._onpopstate, false);\n    hasWindow && window.removeEventListener('hashchange', this._onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} dispatch\n   * @param {boolean=} push\n   * @return {!Context}\n   * @api public\n   */\n\n  Page.prototype.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    if (false !== dispatch) this.dispatch(ctx, prev);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {string} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object=} state\n   * @api public\n   */\n\n  Page.prototype.back = function(path, state) {\n    var page = this;\n    if (this.len > 0) {\n      var window = this._window;\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      hasHistory && window.history.back();\n      this.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    } else {\n      setTimeout(function() {\n        page.show(page._getBase(), state);\n      });\n    }\n  };\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {string} from - if param 'to' is undefined redirects to 'from'\n   * @param {string=} to\n   * @api public\n   */\n  Page.prototype.redirect = function(from, to) {\n    var inst = this;\n\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page.call(this, from, function(e) {\n        setTimeout(function() {\n          inst.replace(/** @type {!string} */ (to));\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        inst.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} init\n   * @param {boolean=} dispatch\n   * @return {!Context}\n   * @api public\n   */\n\n\n  Page.prototype.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) this.dispatch(ctx, prev);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  Page.prototype.dispatch = function(ctx, prev) {\n    var i = 0, j = 0, page = this;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled.call(page, ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  Page.prototype.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return this.exit('*', path);\n    }\n\n    var route = new Route(path, null, this);\n    for (var i = 1; i < arguments.length; ++i) {\n      this.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Handle \"click\" events.\n   */\n\n  /* jshint +W054 */\n  Page.prototype.clickHandler = function(e) {\n    if (1 !== this._which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n    // ensure link\n    // use shadow dom when available if not, fall back to composedPath()\n    // for browsers that only have shady\n    var el = e.target;\n    var eventPath = e.path || (e.composedPath ? e.composedPath() : null);\n\n    if(eventPath) {\n      for (var i = 0; i < eventPath.length; i++) {\n        if (!eventPath[i].nodeName) continue;\n        if (eventPath[i].nodeName.toUpperCase() !== 'A') continue;\n        if (!eventPath[i].href) continue;\n\n        el = eventPath[i];\n        break;\n      }\n    }\n\n    // continue ensure link\n    // el.nodeName for svg links are 'a' instead of 'A'\n    while (el && 'A' !== el.nodeName.toUpperCase()) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName.toUpperCase()) return;\n\n    // check if link is inside an svg\n    // in this case, both href and target are always inside an object\n    var svg = (typeof el.href === 'object') && el.href.constructor.name === 'SVGAnimatedString';\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if(!this._hashbang && this._samePath(el) && (el.hash || '#' === link)) return;\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    // svg target is an object and its desired value is in .baseVal property\n    if (svg ? el.target.baseVal : el.target) return;\n\n    // x-origin\n    // note: svg links that are not relative don't call click events (and skip page.js)\n    // consequently, all svg links tested inside page.js are relative and in the same origin\n    if (!svg && !this.sameOrigin(el.href)) return;\n\n    // rebuild path\n    // There aren't .pathname and .search properties in svg links, so we use href\n    // Also, svg href is an object and its desired value is in .baseVal property\n    var path = svg ? el.href.baseVal : (el.pathname + el.search + (el.hash || ''));\n\n    path = path[0] !== '/' ? '/' + path : path;\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (hasProcess && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n    var pageBase = this._getBase();\n\n    if (path.indexOf(pageBase) === 0) {\n      path = path.substr(pageBase.length);\n    }\n\n    if (this._hashbang) path = path.replace('#!', '');\n\n    if (pageBase && orig === path && (!isLocation || this._window.location.protocol !== 'file:')) {\n      return;\n    }\n\n    e.preventDefault();\n    this.show(orig);\n  };\n\n  /**\n   * Handle \"populate\" events.\n   * @api private\n   */\n\n  Page.prototype._onpopstate = (function () {\n    var loaded = false;\n    if ( ! hasWindow ) {\n      return function () {};\n    }\n    if (hasDocument && document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      var page = this;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else if (isLocation) {\n        var loc = page._window.location;\n        page.show(loc.pathname + loc.search + loc.hash, undefined, undefined, false);\n      }\n    };\n  })();\n\n  /**\n   * Event button.\n   */\n  Page.prototype._which = function(e) {\n    e = e || (hasWindow && this._window.event);\n    return null == e.which ? e.button : e.which;\n  };\n\n  /**\n   * Convert to a URL object\n   * @api private\n   */\n  Page.prototype._toURL = function(href) {\n    var window = this._window;\n    if(typeof URL === 'function' && isLocation) {\n      return new URL(href, window.location.toString());\n    } else if (hasDocument) {\n      var anc = window.document.createElement('a');\n      anc.href = href;\n      return anc;\n    }\n  };\n\n  /**\n   * Check if `href` is the same origin.\n   * @param {string} href\n   * @api public\n   */\n\n  Page.prototype.sameOrigin = function(href) {\n    if(!href || !isLocation) return false;\n\n    var url = this._toURL(href);\n    var window = this._window;\n\n    var loc = window.location;\n    return loc.protocol === url.protocol &&\n      loc.hostname === url.hostname &&\n      loc.port === url.port;\n  };\n\n  /**\n   * @api private\n   */\n  Page.prototype._samePath = function(url) {\n    if(!isLocation) return false;\n    var window = this._window;\n    var loc = window.location;\n    return url.pathname === loc.pathname &&\n      url.search === loc.search;\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {string} val - URL component to decode\n   * @api private\n   */\n  Page.prototype._decodeURLEncodedURIComponent = function(val) {\n    if (typeof val !== 'string') { return val; }\n    return this._decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  };\n\n  /**\n   * Create a new `page` instance and function\n   */\n  function createPage() {\n    var pageInstance = new Page();\n\n    function pageFn(/* args */) {\n      return page.apply(pageInstance, arguments);\n    }\n\n    // Copy all of the things over. In 2.0 maybe we use setPrototypeOf\n    pageFn.callbacks = pageInstance.callbacks;\n    pageFn.exits = pageInstance.exits;\n    pageFn.base = pageInstance.base.bind(pageInstance);\n    pageFn.strict = pageInstance.strict.bind(pageInstance);\n    pageFn.start = pageInstance.start.bind(pageInstance);\n    pageFn.stop = pageInstance.stop.bind(pageInstance);\n    pageFn.show = pageInstance.show.bind(pageInstance);\n    pageFn.back = pageInstance.back.bind(pageInstance);\n    pageFn.redirect = pageInstance.redirect.bind(pageInstance);\n    pageFn.replace = pageInstance.replace.bind(pageInstance);\n    pageFn.dispatch = pageInstance.dispatch.bind(pageInstance);\n    pageFn.exit = pageInstance.exit.bind(pageInstance);\n    pageFn.configure = pageInstance.configure.bind(pageInstance);\n    pageFn.sameOrigin = pageInstance.sameOrigin.bind(pageInstance);\n    pageFn.clickHandler = pageInstance.clickHandler.bind(pageInstance);\n\n    pageFn.create = createPage;\n\n    Object.defineProperty(pageFn, 'len', {\n      get: function(){\n        return pageInstance.len;\n      },\n      set: function(val) {\n        pageInstance.len = val;\n      }\n    });\n\n    Object.defineProperty(pageFn, 'current', {\n      get: function(){\n        return pageInstance.current;\n      },\n      set: function(val) {\n        pageInstance.current = val;\n      }\n    });\n\n    // In 2.0 these can be named exports\n    pageFn.Context = Context;\n    pageFn.Route = Route;\n\n    return pageFn;\n  }\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {string|!Function|!Object} path\n   * @param {Function=} fn\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page.call(this, '*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(/** @type {string} */ (path), null, this);\n      for (var i = 1; i < arguments.length; ++i) {\n        this.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      this['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      this.start(path);\n    }\n  }\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n    var page = this;\n    var window = page._window;\n\n    if (page._hashbang) {\n      current = isLocation && this._getBase() + window.location.hash.replace('#!', '');\n    } else {\n      current = isLocation && window.location.pathname + window.location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    isLocation && (window.location.href = ctx.canonicalPath);\n  }\n\n  /**\n   * Escapes RegExp characters in the given string.\n   *\n   * @param {string} s\n   * @api private\n   */\n  function escapeRegExp(s) {\n    return s.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} state\n   * @api public\n   */\n\n  function Context(path, state, pageInstance) {\n    var _page = this.page = pageInstance || page;\n    var window = _page._window;\n    var hashbang = _page._hashbang;\n\n    var pageBase = _page._getBase();\n    if ('/' === path[0] && 0 !== path.indexOf(pageBase)) path = pageBase + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    var re = new RegExp('^' + escapeRegExp(pageBase));\n    this.path = path.replace(re, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = (hasDocument && window.document.title);\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? _page._decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = _page._decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = this.pathname = parts[0];\n      this.hash = _page._decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    var page = this.page;\n    var window = page._window;\n    var hashbang = page._hashbang;\n\n    page.len++;\n    if (hasHistory) {\n        window.history.pushState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    var page = this.page;\n    if (hasHistory) {\n        page._window.history.replaceState(this.state, this.title,\n          page._hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} options\n   * @api private\n   */\n\n  function Route(path, options, page) {\n    var _page = this.page = page || globalPage;\n    var opts = options || {};\n    opts.strict = opts.strict || page._strict;\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathToRegexp_1(this.path, this.keys = [], opts);\n  }\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {string} path\n   * @param {Object} params\n   * @return {boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = this.page._decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Module exports.\n   */\n\n  var globalPage = createPage();\n  var page_js = globalPage;\n  var default_1 = globalPage;\n\npage_js.default = default_1;\n\nreturn page_js;\n\n})));\n","import Context = PageJS.Context;\nimport {Application} from \"../application\";\n\nexport class RouteContext {\n\n    /**\n     * alias for the route\n     *  home  -> /\n     *  about -> /about\n     */\n    alias: string;\n\n    /**\n     * query object\n     */\n    query: { [x: string]: string };\n\n    /**\n     * url path not containing queries or hash\n     *  /about\n     *  /blog\n     */\n    path: string;\n\n    /**\n     * hash of the url (do not contain #)\n     */\n    hash: string;\n\n    /**\n     * query string\n     *  ?foo=bar\n     */\n    rawQuery: string;\n\n    /**\n     * complete path (discarding base)\n     *  /about?foo=bar#important\n     */\n    rawUrl: string;\n\n    constructor(alias: string, pageRouteContext: Context) {\n        this.alias = alias;\n        this.query = pageRouteContext.query;\n        this.path = pageRouteContext.pathname;\n        this.hash = pageRouteContext.hash;\n        this.rawQuery = pageRouteContext.querystring;\n        this.rawUrl = pageRouteContext.path;\n    }\n}\n","import page from \"page\";\nimport {RouteContext} from \"./common/route-context\";\nimport {RouteMiddlewareCallback, RouterBuilderInterface} from \"./_interfaces\";\nimport {Application} from \"./application\";\nimport Context = PageJS.Context;\n\nclass Router implements RouterBuilderInterface {\n\n    private _started = false;\n    private _app = null as Application;\n    private _routes = {} as {[alias: string]: string};\n    private _routeSubscriptions = [] as ((routeContext: RouteContext) => void)[];\n    private _currentRouteContext = null as RouteContext;\n\n    constructor() {\n        const queryObjectMiddeware = (req: Context, next: () => any) => {\n            req.query = req.querystring.split(\"&\").reduce((resultSoFar, part) => {\n                const match = /(.+?\\b)=?(.*)/.exec(part);\n                if (match) resultSoFar[match[1]] = match[2];\n                return resultSoFar;\n            }, {});\n            return next();\n        };\n\n        page(queryObjectMiddeware);\n    }\n\n    get started(): boolean {\n        return this._started\n    }\n\n    goTo(path: string): void {\n        page(path);\n    }\n\n    protected _startRouter(app: Application): void {\n        this._started = true;\n        this._app = app;\n        page.start({});\n    }\n\n    route(alias: string, path: string, ...middleware: (({routeContext, app}: RouteMiddlewareCallback, next?: () => any) => void)[]): void {\n        this._routes[alias] = path;\n        page(path, ...middleware.map(mid => {\n            return (pagejsRouteContext: Context, next) => {\n                let routeContext = new RouteContext(alias, pagejsRouteContext);\n                mid({app: this._app, routeContext}, next);\n                this._currentRouteContext = routeContext;\n                this.runSubscriptions(routeContext);\n            }\n        }))\n    }\n\n    subscribeRoutes(onchange: (info: RouteContext) => void): void {\n        this._routeSubscriptions.push(onchange);\n        if (this._started) {\n            onchange(this._currentRouteContext);\n        }\n    }\n\n    link(alias: string, params?: { [x: string]: any }): string {\n        let link = this._routes[alias] || \"\";\n        return link.replace(/:(\\w+)\\b/g, (substring, key) => params[key]);\n    }\n\n    runSubscriptions(routeContext: RouteContext) {\n        this._routeSubscriptions.forEach(callback => callback(routeContext));\n    }\n}\n\nexport {Router};\n","abstract class Subscribable {\n\n    private _subscribers = [];\n\n    constructor() {\n        const properties = this._registerWatchedProperties();\n        properties.forEach(propertyName => {\n            const privatePropertyName = `__${propertyName}`;\n            Object.defineProperty(this, propertyName, {\n                get() {\n                    return this[privatePropertyName];\n                },\n                set(v: any): void {\n                    this[privatePropertyName] = v;\n                    this.runSubscribers();\n                },\n            });\n        });\n    }\n\n    subscribe(callback: () => void): this {\n        // TODO: Save who subscribe\n        this._subscribers.push(callback);\n        callback();\n        return this;\n    }\n\n    unsubscribe(who: any) {\n        // TODO\n    }\n\n    protected runSubscribers() {\n        this._subscribers.forEach(callback => callback());\n    }\n\n    protected abstract _registerWatchedProperties(): string[];\n\n}\n\nexport {Subscribable};\n","import {Subscribable} from \"./subscribable\";\n\nclass ResourceManager extends Subscribable {\n\n    private _resources = {} as {[x:string]:any};\n\n    _registerWatchedProperties(): string[] {\n        return [\"_resources\"];\n    }\n\n    get(resourcePath: string): any {\n        return this._resources[resourcePath];\n    }\n\n    set(resourcePath: string, value: any): void {\n        this._resources = {...this._resources, [resourcePath]: value};\n    }\n\n    remove(resourcePath: string): any {\n        const {[resourcePath]: removedResource, ...resources} = this._resources;\n        this._resources = resources;\n        return removedResource;\n    }\n\n}\n\nexport {ResourceManager};\n","import {Router} from \"./router\";\nimport {RouteContext} from \"./common/route-context\";\nimport {RouterInterface, RouterBuilderInterface} from \"./_interfaces\";\nimport {ResourceManager} from \"./resource-manager\";\n\ntype Opts = {\n    router?: RouterBuilderInterface;\n    resourceManager?: ResourceManager;\n}\n\nclass Application implements RouterInterface {\n\n    static Router = Router;\n\n    private _router: RouterBuilderInterface;\n    private _resourceManager: ResourceManager;\n\n    constructor({router, resourceManager = new ResourceManager()}: Opts) {\n        this._router = router;\n        this._resourceManager = resourceManager;\n    }\n\n    get(resourcePath: string): any {\n        return this._resourceManager.get(resourcePath)\n    }\n\n    set(resourcePath: string, value: any): void {\n        this._resourceManager.set(resourcePath, value);\n    }\n\n    subscribeResourceChanges(callback): void {\n        this._resourceManager.subscribe(callback)\n    }\n\n    goTo(path: string): void {\n        this._router.goTo(path);\n    }\n\n    subscribeRoutes(onchange: (routeContext: RouteContext) => void): void {\n        this._router.subscribeRoutes(onchange);\n    }\n\n    link(alias: string, params?: { [p: string]: any }): string {\n        return this._router.link(alias, params);\n    }\n\n    start(): void {\n        (this._router as any)._startRouter(this);\n    }\n\n}\n\nexport {Application};\n","import {Subscribable} from \"../../core/subscribable\";\n\nclass Counter extends Subscribable {\n\n    count = 100;\n\n    constructor(value?: number) {\n        super();\n        if (typeof value === \"number\") this.count = 500;\n    }\n\n    _registerWatchedProperties(): string[] {\n        return [\"count\"];\n    }\n\n    increment(number = 1) {\n        this.count += number;\n    }\n\n    decrement(number = 1) {\n        this.count -= number;\n    }\n\n}\n\nexport {Counter};\n\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","import {Application} from \"../core/application\";\nimport {Counter} from \"./models/counter\";\n\nconst router = new Application.Router();\n\nrouter.route(\"form\", \"/form-page\", async ({routeContext}) => {\n    await import(\"../ui/pages/form-page\");\n});\n\nrouter.route(\"counter\", \"/counter-page\", async ({app, routeContext}) => {\n    if (!app.get(\"counter\")) {\n        const counter = new Counter(500);\n        app.set(\"counter\", counter);\n    }\n\n    await import(\"../ui/pages/counter-page\");\n});\n\nrouter.route(\"github\", \"/github-page\", async ({app, routeContext}) => {\n    await import(\"../ui/pages/github-page\");\n});\n\nrouter.route(\"404\", \"*\", async ({routeContext}) => {\n    await import(\"../ui/pages/404-page\");\n});\n\nexport {router};\n","import {Application} from \"../core/application\";\nimport {router} from \"./router\";\n\nconst app = new Application({router});\n\nexport {app}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<object, true>();\n\n// tslint:disable-next-line:no-any\nexport type DirectiveFactory = (...args: any[]) => object;\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = <F extends DirectiveFactory>(f: F): F =>\n    ((...args: unknown[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as F;\n\nexport const isDirective = (o: unknown): o is DirectiveFn => {\n  return typeof o === 'function' && directives.has(o);\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\ninterface MaybePolyfilledCe extends CustomElementRegistry {\n  readonly polyfillWrapFlushCallback?: object;\n}\n\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as MaybePolyfilledCe).polyfillWrapFlushCallback !==\n        undefined;\n\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.insertBefore(start!, before);\n        start = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes =\n    (container: Node, start: Node|null, end: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.removeChild(start!);\n        start = n;\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\n/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  readonly value: unknown;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: unknown): void;\n\n  /**\n   * Commits the current part value, causing it to actually be written to the\n   * DOM.\n   *\n   * Directives are run at the start of `commit`, so that if they call\n   * `part.setValue(...)` synchronously that value will be used in the current\n   * commit, and there's no need to call `part.commit()` within the directive.\n   * If directives set a part value asynchronously, then they must call\n   * `part.commit()` manually.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  readonly parts: TemplatePart[] = [];\n  readonly element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n\n    const nodesToRemove: Node[] = [];\n    const stack: Node[] = [];\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        element.content,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    // Keeps track of the last index associated with a part. We try to delete\n    // unnecessary nodes, but we never want to associate two different parts\n    // to the same index. They must have a constant node between.\n    let lastPartIndex = 0;\n    let index = -1;\n    let partIndex = 0;\n    const {strings, values: {length}} = result;\n    while (partIndex < length) {\n      const node = walker.nextNode() as Element | Comment | Text | null;\n      if (node === null) {\n        // We've exhausted the content inside a nested template element.\n        // Because we still have parts (the outer for-loop), we know:\n        // - There is a template in the stack\n        // - The walker will find a nextNode outside the template\n        walker.currentNode = stack.pop()!;\n        continue;\n      }\n      index++;\n\n      if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n        if ((node as Element).hasAttributes()) {\n          const attributes = (node as Element).attributes;\n          const {length} = attributes;\n          // Per\n          // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n          // attributes are not guaranteed to be returned in document order.\n          // In particular, Edge/IE can return them out of order, so we cannot\n          // assume a correspondence between part index and attribute index.\n          let count = 0;\n          for (let i = 0; i < length; i++) {\n            if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n              count++;\n            }\n          }\n          while (count-- > 0) {\n            // Get the template literal section leading up to the first\n            // expression in this attribute\n            const stringForPart = strings[partIndex];\n            // Find the attribute name\n            const name = lastAttributeNameRegex.exec(stringForPart)![2];\n            // Find the corresponding attribute\n            // All bound attributes have had a suffix added in\n            // TemplateResult#getHTML to opt out of special attribute\n            // handling. To look up the attribute value we also need to add\n            // the suffix.\n            const attributeLookupName =\n                name.toLowerCase() + boundAttributeSuffix;\n            const attributeValue =\n                (node as Element).getAttribute(attributeLookupName)!;\n            (node as Element).removeAttribute(attributeLookupName);\n            const statics = attributeValue.split(markerRegex);\n            this.parts.push({type: 'attribute', index, name, strings: statics});\n            partIndex += statics.length - 1;\n          }\n        }\n        if ((node as Element).tagName === 'TEMPLATE') {\n          stack.push(node);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n      } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n        const data = (node as Text).data;\n        if (data.indexOf(marker) >= 0) {\n          const parent = node.parentNode!;\n          const strings = data.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            let insert: Node;\n            let s = strings[i];\n            if (s === '') {\n              insert = createMarker();\n            } else {\n              const match = lastAttributeNameRegex.exec(s);\n              if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                s = s.slice(0, match.index) + match[1] +\n                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n              }\n              insert = document.createTextNode(s);\n            }\n            parent.insertBefore(insert, node);\n            this.parts.push({type: 'node', index: ++index});\n          }\n          // If there's no text, we must insert a comment to mark our place.\n          // Else, we can trust it will stick around after cloning.\n          if (strings[lastIndex] === '') {\n            parent.insertBefore(createMarker(), node);\n            nodesToRemove.push(node);\n          } else {\n            (node as Text).data = strings[lastIndex];\n          }\n          // We have a part for each match found\n          partIndex += lastIndex;\n        }\n      } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n        if ((node as Comment).data === marker) {\n          const parent = node.parentNode!;\n          // Add a new marker node to be the startNode of the Part if any of\n          // the following are true:\n          //  * We don't have a previousSibling\n          //  * The previousSibling is already the start of a previous part\n          if (node.previousSibling === null || index === lastPartIndex) {\n            index++;\n            parent.insertBefore(createMarker(), node);\n          }\n          lastPartIndex = index;\n          this.parts.push({type: 'node', index});\n          // If we don't have a nextSibling, keep this node so we have an end.\n          // Else, we can remove it to save future costs.\n          if (node.nextSibling === null) {\n            (node as Comment).data = '';\n          } else {\n            nodesToRemove.push(node);\n            index--;\n          }\n          partIndex++;\n        } else {\n          let i = -1;\n          while ((i = (node as Comment).data.indexOf(marker, i + 1)) !== -1) {\n            // Comment node has a binding marker inside, make an inactive part\n            // The binding won't work, but subsequent bindings will\n            // TODO (justinfagnani): consider whether it's even worth it to\n            // make bindings in comments work\n            this.parts.push({type: 'node', index: -1});\n            partIndex++;\n          }\n        }\n      }\n    }\n\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\nconst endsWith = (str: string, suffix: string): boolean => {\n  const index = str.length - suffix.length;\n  return index >= 0 && str.slice(index) === suffix;\n};\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  readonly type: 'node',\n  index: number\n}|{readonly type: 'attribute', index: number, readonly name: string, readonly strings: ReadonlyArray<string>};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  private readonly __parts: Array<Part|undefined> = [];\n  readonly processor: TemplateProcessor;\n  readonly options: RenderOptions;\n  readonly template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: ReadonlyArray<unknown>) {\n    let i = 0;\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // There are a number of steps in the lifecycle of a template instance's\n    // DOM fragment:\n    //  1. Clone - create the instance fragment\n    //  2. Adopt - adopt into the main document\n    //  3. Process - find part markers and create parts\n    //  4. Upgrade - upgrade custom elements\n    //  5. Update - set node, attribute, property, etc., values\n    //  6. Connect - connect to the document. Optional and outside of this\n    //     method.\n    //\n    // We have a few constraints on the ordering of these steps:\n    //  * We need to upgrade before updating, so that property values will pass\n    //    through any property setters.\n    //  * We would like to process before upgrading so that we're sure that the\n    //    cloned fragment is inert and not disturbed by self-modifying DOM.\n    //  * We want custom elements to upgrade even in disconnected fragments.\n    //\n    // Given these constraints, with full custom elements support we would\n    // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n    //\n    // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n    // can not implement that order and still have upgrade-before-update and\n    // upgrade disconnected fragments. So we instead sacrifice the\n    // process-before-upgrade constraint, since in Custom Elements v1 elements\n    // must not modify their light DOM in the constructor. We still have issues\n    // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n    // that don't strictly adhere to the no-modification rule because shadow\n    // DOM, which may be created in the constructor, is emulated by being placed\n    // in the light DOM.\n    //\n    // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n    // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n    // in one step.\n    //\n    // The Custom Elements v1 polyfill supports upgrade(), so the order when\n    // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n    // Connect.\n\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const stack: Node[] = [];\n    const parts = this.template.parts;\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        fragment,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    let partIndex = 0;\n    let nodeIndex = 0;\n    let part: TemplatePart;\n    let node = walker.nextNode();\n    // Loop through all the nodes and parts of a template\n    while (partIndex < parts.length) {\n      part = parts[partIndex];\n      if (!isTemplatePartActive(part)) {\n        this.__parts.push(undefined);\n        partIndex++;\n        continue;\n      }\n\n      // Progress the tree walker until we find our next part's node.\n      // Note that multiple parts may share the same node (attribute parts\n      // on a single element), so this loop may not run at all.\n      while (nodeIndex < part.index) {\n        nodeIndex++;\n        if (node!.nodeName === 'TEMPLATE') {\n          stack.push(node!);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n        if ((node = walker.nextNode()) === null) {\n          // We've exhausted the content inside a nested template element.\n          // Because we still have parts (the outer for-loop), we know:\n          // - There is a template in the stack\n          // - The walker will find a nextNode outside the template\n          walker.currentNode = stack.pop()!;\n          node = walker.nextNode();\n        }\n      }\n\n      // We've arrived at our part's node.\n      if (part.type === 'node') {\n        const part = this.processor.handleTextExpression(this.options);\n        part.insertAfterNode(node!.previousSibling!);\n        this.__parts.push(part);\n      } else {\n        this.__parts.push(...this.processor.handleAttributeExpressions(\n            node as Element, part.name, part.strings, this.options));\n      }\n      partIndex++;\n    }\n\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  readonly strings: TemplateStringsArray;\n  readonly values: ReadonlyArray<unknown>;\n  readonly type: string;\n  readonly processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: ReadonlyArray<unknown>,\n      type: string, processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const l = this.strings.length - 1;\n    let html = '';\n    let isCommentBinding = false;\n\n    for (let i = 0; i < l; i++) {\n      const s = this.strings[i];\n      // For each binding we want to determine the kind of marker to insert\n      // into the template source before it's parsed by the browser's HTML\n      // parser. The marker type is based on whether the expression is in an\n      // attribute, text, or comment poisition.\n      //   * For node-position bindings we insert a comment with the marker\n      //     sentinel as its text content, like <!--{{lit-guid}}-->.\n      //   * For attribute bindings we insert just the marker sentinel for the\n      //     first binding, so that we support unquoted attribute bindings.\n      //     Subsequent bindings can use a comment marker because multi-binding\n      //     attributes must be quoted.\n      //   * For comment bindings we insert just the marker sentinel so we don't\n      //     close the comment.\n      //\n      // The following code scans the template source, but is *not* an HTML\n      // parser. We don't need to track the tree structure of the HTML, only\n      // whether a binding is inside a comment, and if not, if it appears to be\n      // the first binding in an attribute.\n      const commentOpen = s.lastIndexOf('<!--');\n      // We're in comment position if we have a comment open with no following\n      // comment close. Because <-- can appear in an attribute value there can\n      // be false positives.\n      isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n          s.indexOf('-->', commentOpen + 1) === -1;\n      // Check to see if we have an attribute-like sequence preceeding the\n      // expression. This can match \"name=value\" like structures in text,\n      // comments, and attribute values, so there can be false-positives.\n      const attributeMatch = lastAttributeNameRegex.exec(s);\n      if (attributeMatch === null) {\n        // We're only in this branch if we don't have a attribute-like\n        // preceeding sequence. For comments, this guards against unusual\n        // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n        // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n        // below.\n        html += s + (isCommentBinding ? marker : nodeMarker);\n      } else {\n        // For attributes we use just a marker sentinel, and also append a\n        // $lit$ suffix to the name to opt-out of attribute-specific parsing\n        // that IE and Edge do for style and certain SVG attributes.\n        html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n            attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n            marker;\n      }\n    }\n    html += this.strings[l];\n    return html;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, nothing, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\n// https://tc39.github.io/ecma262/#sec-typeof-operator\nexport type Primitive = null|undefined|boolean|number|string|Symbol|bigint;\nexport const isPrimitive = (value: unknown): value is Primitive => {\n  return (\n      value === null ||\n      !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value: unknown): value is Iterable<unknown> => {\n  return Array.isArray(value) ||\n      // tslint:disable-next-line:no-any\n      !!(value && (value as any)[Symbol.iterator]);\n};\n\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  readonly parts: ReadonlyArray<AttributePart>;\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      (this.parts as AttributePart[])[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): unknown {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (isPrimitive(v) || !isIterable(v)) {\n          text += typeof v === 'string' ? v : String(v);\n        } else {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue() as string);\n    }\n  }\n}\n\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart implements Part {\n  readonly committer: AttributeCommitter;\n  value: unknown = undefined;\n\n  constructor(committer: AttributeCommitter) {\n    this.committer = committer;\n  }\n\n  setValue(value: unknown): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart implements Part {\n  readonly options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Appends this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n   * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n   * such as those that appear in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part.__insert(this.startNode = createMarker());\n    part.__insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref.__insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    const value = this.__pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this.__commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this.__commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this.__commitNode(value);\n    } else if (isIterable(value)) {\n      this.__commitIterable(value);\n    } else if (value === nothing) {\n      this.value = nothing;\n      this.clear();\n    } else {\n      // Fallback, will render the string representation\n      this.__commitText(value);\n    }\n  }\n\n  private __insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private __commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this.__insert(value);\n    this.value = value;\n  }\n\n  private __commitText(value: unknown): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === 3 /* Node.TEXT_NODE */) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      (node as Text).data = value as string;\n    } else {\n      this.__commitNode(document.createTextNode(\n          typeof value === 'string' ? value : String(value)));\n    }\n    this.value = value;\n  }\n\n  private __commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value instanceof TemplateInstance &&\n        this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this.__commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private __commitIterable(value: Iterable<unknown>): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n    const value = !!this.__pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n      this.value = value;\n    }\n    this.__pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  readonly single: boolean;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  protected _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      // tslint:disable-next-line:no-any\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\ntry {\n  const options = {\n    get capture() {\n      eventOptionsSupported = true;\n      return false;\n    }\n  };\n  // tslint:disable-next-line:no-any\n  window.addEventListener('test', options as any, options);\n  // tslint:disable-next-line:no-any\n  window.removeEventListener('test', options as any, options);\n} catch (_e) {\n}\n\n\ntype EventHandlerWithOptions =\n    EventListenerOrEventListenerObject&Partial<AddEventListenerOptions>;\nexport class EventPart implements Part {\n  readonly element: Element;\n  readonly eventName: string;\n  readonly eventContext?: EventTarget;\n  value: undefined|EventHandlerWithOptions = undefined;\n  private __options?: AddEventListenerOptions;\n  private __pendingValue: undefined|EventHandlerWithOptions = undefined;\n  private readonly __boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this.__boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: undefined|EventHandlerWithOptions): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange as EventHandlerWithOptions;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this.__pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    if (shouldAddListener) {\n      this.__options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    this.value = newListener;\n    this.__pendingValue = noChange as EventHandlerWithOptions;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      (this.value as EventListenerObject).handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: AddEventListenerOptions|undefined) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture as AddEventListenerOptions);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): ReadonlyArray<Part> {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const committer = new PropertyCommitter(element, name.slice(1), strings);\n      return committer.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const committer = new AttributeCommitter(element, name, strings);\n    return committer.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behaviour, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport type templateCache = {\n  readonly stringsArray: WeakMap<TemplateStringsArray, Template>; //\n  readonly keyString: Map<string, Template>;\n};\n\nexport const templateCaches = new Map<string, templateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\nimport {TemplateResult} from './template-result.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: TemplateResult,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, nothing, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\ndeclare global {\n  interface Window {\n    litHtmlVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.0.0');\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module shady-render\n */\n\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(\n    template: Template, nodesToRemove: Set<Node>) {\n  const {element: {content}, parts} = template;\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let part = parts[partIndex];\n  let nodeIndex = -1;\n  let removeCount = 0;\n  const nodesToRemoveInTemplate = [];\n  let currentRemovingNode: Node|null = null;\n  while (walker.nextNode()) {\n    nodeIndex++;\n    const node = walker.currentNode as Element;\n    // End removal if stepped past the removing node\n    if (node.previousSibling === currentRemovingNode) {\n      currentRemovingNode = null;\n    }\n    // A node to remove was found in the template\n    if (nodesToRemove.has(node)) {\n      nodesToRemoveInTemplate.push(node);\n      // Track node we're removing\n      if (currentRemovingNode === null) {\n        currentRemovingNode = node;\n      }\n    }\n    // When removing, increment count by which to adjust subsequent part indices\n    if (currentRemovingNode !== null) {\n      removeCount++;\n    }\n    while (part !== undefined && part.index === nodeIndex) {\n      // If part is in a removed node deactivate it by setting index to -1 or\n      // adjust the index as needed.\n      part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n      // go to the next active part.\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n      part = parts[partIndex];\n    }\n  }\n  nodesToRemoveInTemplate.forEach((n) => n.parentNode!.removeChild(n));\n}\n\nconst countNodes = (node: Node) => {\n  let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n  const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n  while (walker.nextNode()) {\n    count++;\n  }\n  return count;\n};\n\nconst nextActiveIndexInTemplateParts =\n    (parts: TemplatePart[], startIndex: number = -1) => {\n      for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(\n    template: Template, node: Node, refNode: Node|null = null) {\n  const {element: {content}, parts} = template;\n  // If there's no refNode, then put node at end of template.\n  // No part indices need to be shifted in this case.\n  if (refNode === null || refNode === undefined) {\n    content.appendChild(node);\n    return;\n  }\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let insertCount = 0;\n  let walkerIndex = -1;\n  while (walker.nextNode()) {\n    walkerIndex++;\n    const walkerNode = walker.currentNode as Element;\n    if (walkerNode === refNode) {\n      insertCount = countNodes(node);\n      refNode.parentNode!.insertBefore(node, refNode);\n    }\n    while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n      // If we've inserted the node, simply adjust all subsequent parts\n      if (insertCount > 0) {\n        while (partIndex !== -1) {\n          parts[partIndex].index += insertCount;\n          partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n        return;\n      }\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {removeNodes} from './dom.js';\nimport {insertNodeIntoTemplate, removeNodesFromTemplate} from './modify-template.js';\nimport {RenderOptions} from './render-options.js';\nimport {parts, render as litRender} from './render.js';\nimport {templateCaches} from './template-factory.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\nexport {html, svg, TemplateResult} from '../lit-html.js';\n\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type: string, scopeName: string) =>\n    `${type}--${scopeName}`;\n\nlet compatibleShadyCSSVersion = true;\n\nif (typeof window.ShadyCSS === 'undefined') {\n  compatibleShadyCSSVersion = false;\n} else if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n  console.warn(\n      `Incompatible ShadyCSS version detected. ` +\n      `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n      `@webcomponents/shadycss@1.3.1.`);\n  compatibleShadyCSSVersion = false;\n}\n\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName: string) =>\n    (result: TemplateResult) => {\n      const cacheKey = getTemplateCacheKey(result.type, scopeName);\n      let templateCache = templateCaches.get(cacheKey);\n      if (templateCache === undefined) {\n        templateCache = {\n          stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n          keyString: new Map<string, Template>()\n        };\n        templateCaches.set(cacheKey, templateCache);\n      }\n\n      let template = templateCache.stringsArray.get(result.strings);\n      if (template !== undefined) {\n        return template;\n      }\n\n      const key = result.strings.join(marker);\n      template = templateCache.keyString.get(key);\n      if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n          window.ShadyCSS!.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n      }\n      templateCache.stringsArray.set(result.strings, template);\n      return template;\n    };\n\nconst TEMPLATE_TYPES = ['html', 'svg'];\n\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName: string) => {\n  TEMPLATE_TYPES.forEach((type) => {\n    const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n    if (templates !== undefined) {\n      templates.keyString.forEach((template) => {\n        const {element: {content}} = template;\n        // IE 11 doesn't support the iterable param Set constructor\n        const styles = new Set<Element>();\n        Array.from(content.querySelectorAll('style')).forEach((s: Element) => {\n          styles.add(s);\n        });\n        removeNodesFromTemplate(template, styles);\n      });\n    }\n  });\n};\n\nconst shadyRenderSet = new Set<string>();\n\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles =\n    (renderedDOM: DocumentFragment, template: Template, scopeName: string) => {\n      shadyRenderSet.add(scopeName);\n      // Move styles out of rendered DOM and store.\n      const styles = renderedDOM.querySelectorAll('style');\n      const {length} = styles;\n      // If there are no styles, skip unnecessary work\n      if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        window.ShadyCSS!.prepareTemplateStyles(template.element, scopeName);\n        return;\n      }\n      const condensedStyle = document.createElement('style');\n      // Collect styles into a single style. This helps us make sure ShadyCSS\n      // manipulations will not prevent us from being able to fix up template\n      // part indices.\n      // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n      // currently does this anyway. When it does not, this should be changed.\n      for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode!.removeChild(style);\n        condensedStyle.textContent! += style.textContent;\n      }\n      // Remove styles from nested templates in this scope.\n      removeStylesFromLitTemplates(scopeName);\n      // And then put the condensed style into the \"root\" template passed in as\n      // `template`.\n      const content = template.element.content;\n      insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n      // Note, it's important that ShadyCSS gets the template that `lit-html`\n      // will actually render so that it can update the style inside when\n      // needed (e.g. @apply native Shadow DOM case).\n      window.ShadyCSS!.prepareTemplateStyles(template.element, scopeName);\n      const style = content.querySelector('style');\n      if (window.ShadyCSS!.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n      } else {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n      }\n    };\n\nexport interface ShadyRenderOptions extends Partial<RenderOptions> {\n  scopeName: string;\n}\n\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render =\n    (result: TemplateResult,\n     container: Element|DocumentFragment|ShadowRoot,\n     options: ShadyRenderOptions) => {\n      const scopeName = options.scopeName;\n      const hasRendered = parts.has(container);\n      const needsScoping = compatibleShadyCSSVersion &&\n          container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n          !!(container as ShadowRoot).host && result instanceof TemplateResult;\n      // Handle first render to a scope specially...\n      const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n      // On first scope render, render into a fragment; this cannot be a single\n      // fragment that is reused since nested renders can occur synchronously.\n      const renderContainer =\n          firstScopeRender ? document.createDocumentFragment() : container;\n      litRender(\n          result,\n          renderContainer,\n          {templateFactory: shadyTemplateFactory(scopeName), ...options} as\n              RenderOptions);\n      // When performing first scope render,\n      // (1) We've rendered into a fragment so that there's a chance to\n      // `prepareTemplateStyles` before sub-elements hit the DOM\n      // (which might cause them to render based on a common pattern of\n      // rendering in a custom element's `connectedCallback`);\n      // (2) Scope the template with ShadyCSS one time only for this scope.\n      // (3) Render the fragment into the container and make sure the\n      // container knows its `part` is the one we just rendered. This ensures\n      // DOM will be re-used on subsequent renders.\n      if (firstScopeRender) {\n        const part = parts.get(renderContainer)!;\n        parts.delete(renderContainer);\n        if (part.value instanceof TemplateInstance) {\n          prepareTemplateStyles(\n              renderContainer as DocumentFragment,\n              part.value.template,\n              scopeName);\n        }\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n      }\n      // After elements have hit the DOM, update styling if this is the\n      // initial render to this container.\n      // This is needed whenever dynamic changes are made so it would be\n      // safest to do every render; however, this would regress performance\n      // so we leave it up to the user to call `ShadyCSSS.styleElement`\n      // for dynamic changes.\n      if (!hasRendered && needsScoping) {\n        window.ShadyCSS!.styleElement((container as ShadowRoot).host);\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    <P extends PropertyKey>(prop: P, _obj: unknown): P => prop;\n\ndeclare global {\n  var JSCompiler_renameProperty: <P extends PropertyKey>(\n      prop: P, _obj: unknown) => P;\n\n  interface Window {\n    JSCompiler_renameProperty: typeof JSCompiler_renameProperty;\n  }\n}\n\n/**\n * Converts property values to and from attribute values.\n */\nexport interface ComplexAttributeConverter<Type = unknown, TypeHint = unknown> {\n  /**\n   * Function called to convert an attribute value to a property\n   * value.\n   */\n  fromAttribute?(value: string|null, type?: TypeHint): Type;\n\n  /**\n   * Function called to convert a property value to an attribute\n   * value.\n   *\n   * It returns unknown instead of string, to be compatible with\n   * https://github.com/WICG/trusted-types (and similar efforts).\n   */\n  toAttribute?(value: Type, type?: TypeHint): unknown;\n}\n\ntype AttributeConverter<Type = unknown, TypeHint = unknown> =\n    ComplexAttributeConverter<Type>|((value: string, type?: TypeHint) => Type);\n\n/**\n * Defines options for a property accessor.\n */\nexport interface PropertyDeclaration<Type = unknown, TypeHint = unknown> {\n  /**\n   * Indicates how and whether the property becomes an observed attribute.\n   * If the value is `false`, the property is not added to `observedAttributes`.\n   * If true or absent, the lowercased property name is observed (e.g. `fooBar`\n   * becomes `foobar`). If a string, the string value is observed (e.g\n   * `attribute: 'foo-bar'`).\n   */\n  readonly attribute?: boolean|string;\n\n  /**\n   * Indicates the type of the property. This is used only as a hint for the\n   * `converter` to determine how to convert the attribute\n   * to/from a property.\n   */\n  readonly type?: TypeHint;\n\n  /**\n   * Indicates how to convert the attribute to/from a property. If this value\n   * is a function, it is used to convert the attribute value a the property\n   * value. If it's an object, it can have keys for `fromAttribute` and\n   * `toAttribute`. If no `toAttribute` function is provided and\n   * `reflect` is set to `true`, the property value is set directly to the\n   * attribute. A default `converter` is used if none is provided; it supports\n   * `Boolean`, `String`, `Number`, `Object`, and `Array`. Note,\n   * when a property changes and the converter is used to update the attribute,\n   * the property is never updated again as a result of the attribute changing,\n   * and vice versa.\n   */\n  readonly converter?: AttributeConverter<Type, TypeHint>;\n\n  /**\n   * Indicates if the property should reflect to an attribute.\n   * If `true`, when the property is set, the attribute is set using the\n   * attribute name determined according to the rules for the `attribute`\n   * property option and the value of the property converted using the rules\n   * from the `converter` property option.\n   */\n  readonly reflect?: boolean;\n\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n\n  /**\n   * Indicates whether an accessor will be created for this property. By\n   * default, an accessor will be generated for this property that requests an\n   * update when set. If this flag is `true`, no accessor will be created, and\n   * it will be the user's responsibility to call\n   * `this.requestUpdate(propertyName, oldValue)` to request an update when\n   * the property changes.\n   */\n  readonly noAccessor?: boolean;\n}\n\n/**\n * Map of properties to PropertyDeclaration options. For each property an\n * accessor is made, and the property is processed according to the\n * PropertyDeclaration options.\n */\nexport interface PropertyDeclarations {\n  readonly [key: string]: PropertyDeclaration;\n}\n\ntype PropertyDeclarationMap = Map<PropertyKey, PropertyDeclaration>;\n\ntype AttributeMap = Map<string, PropertyKey>;\n\nexport type PropertyValues = Map<PropertyKey, unknown>;\n\nexport const defaultConverter: ComplexAttributeConverter = {\n\n  toAttribute(value: unknown, type?: unknown): unknown {\n    switch (type) {\n      case Boolean:\n        return value ? '' : null;\n      case Object:\n      case Array:\n        // if the value is `null` or `undefined` pass this through\n        // to allow removing/no change behavior.\n        return value == null ? value : JSON.stringify(value);\n    }\n    return value;\n  },\n\n  fromAttribute(value: string|null, type?: unknown) {\n    switch (type) {\n      case Boolean:\n        return value !== null;\n      case Number:\n        return value === null ? null : Number(value);\n      case Object:\n      case Array:\n        return JSON.parse(value!);\n    }\n    return value;\n  }\n\n};\n\nexport interface HasChanged {\n  (value: unknown, old: unknown): boolean;\n}\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual: HasChanged = (value: unknown, old: unknown): boolean => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultPropertyDeclaration: PropertyDeclaration = {\n  attribute: true,\n  type: String,\n  converter: defaultConverter,\n  reflect: false,\n  hasChanged: notEqual\n};\n\nconst microtaskPromise = Promise.resolve(true);\n\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\ntype UpdateState = typeof STATE_HAS_UPDATED|typeof STATE_UPDATE_REQUESTED|\n    typeof STATE_IS_REFLECTING_TO_ATTRIBUTE|\n    typeof STATE_IS_REFLECTING_TO_PROPERTY|typeof STATE_HAS_CONNECTED;\n\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport abstract class UpdatingElement extends HTMLElement {\n  /*\n   * Due to closure compiler ES6 compilation bugs, @nocollapse is required on\n   * all static methods and properties with initializers.  Reference:\n   * - https://github.com/google/closure-compiler/issues/1776\n   */\n\n  /**\n   * Maps attribute names to properties; for example `foobar` attribute to\n   * `fooBar` property. Created lazily on user subclasses when finalizing the\n   * class.\n   */\n  private static _attributeToPropertyMap: AttributeMap;\n\n  /**\n   * Marks class as having finished creating properties.\n   */\n  protected static finalized = true;\n\n  /**\n   * Memoized list of all class properties, including any superclass properties.\n   * Created lazily on user subclasses when finalizing the class.\n   */\n  private static _classProperties?: PropertyDeclarationMap;\n\n  /**\n   * User-supplied object that maps property names to `PropertyDeclaration`\n   * objects containing options for configuring the property.\n   */\n  static properties: PropertyDeclarations;\n\n  /**\n   * Returns a list of attributes corresponding to the registered properties.\n   * @nocollapse\n   */\n  static get observedAttributes() {\n    // note: piggy backing on this to ensure we're finalized.\n    this.finalize();\n    const attributes: string[] = [];\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    this._classProperties!.forEach((v, p) => {\n      const attr = this._attributeNameForProperty(p, v);\n      if (attr !== undefined) {\n        this._attributeToPropertyMap.set(attr, p);\n        attributes.push(attr);\n      }\n    });\n    return attributes;\n  }\n\n  /**\n   * Ensures the private `_classProperties` property metadata is created.\n   * In addition to `finalize` this is also called in `createProperty` to\n   * ensure the `@property` decorator can add property metadata.\n   */\n  /** @nocollapse */\n  private static _ensureClassProperties() {\n    // ensure private storage for property declarations.\n    if (!this.hasOwnProperty(\n            JSCompiler_renameProperty('_classProperties', this))) {\n      this._classProperties = new Map();\n      // NOTE: Workaround IE11 not supporting Map constructor argument.\n      const superProperties: PropertyDeclarationMap =\n          Object.getPrototypeOf(this)._classProperties;\n      if (superProperties !== undefined) {\n        superProperties.forEach(\n            (v: PropertyDeclaration, k: PropertyKey) =>\n                this._classProperties!.set(k, v));\n      }\n    }\n  }\n\n  /**\n   * Creates a property accessor on the element prototype if one does not exist.\n   * The property setter calls the property's `hasChanged` property option\n   * or uses a strict identity check to determine whether or not to request\n   * an update.\n   * @nocollapse\n   */\n  static createProperty(\n      name: PropertyKey,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    // Note, since this can be called by the `@property` decorator which\n    // is called before `finalize`, we ensure storage exists for property\n    // metadata.\n    this._ensureClassProperties();\n    this._classProperties!.set(name, options);\n    // Do not generate an accessor if the prototype already has one, since\n    // it would be lost otherwise and that would never be the user's intention;\n    // Instead, we expect users to call `requestUpdate` themselves from\n    // user-defined accessors. Note that if the super has an accessor we will\n    // still overwrite it\n    if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n      return;\n    }\n    const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n    Object.defineProperty(this.prototype, name, {\n      // tslint:disable-next-line:no-any no symbol in index\n      get(): any {\n        return (this as {[key: string]: unknown})[key as string];\n      },\n      set(this: UpdatingElement, value: unknown) {\n        const oldValue =\n            (this as {} as {[key: string]: unknown})[name as string];\n        (this as {} as {[key: string]: unknown})[key as string] = value;\n        (this as unknown as UpdatingElement)._requestUpdate(name, oldValue);\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  /**\n   * Creates property accessors for registered properties and ensures\n   * any superclasses are also finalized.\n   * @nocollapse\n   */\n  protected static finalize() {\n    if (this.hasOwnProperty(JSCompiler_renameProperty('finalized', this)) &&\n        this.finalized) {\n      return;\n    }\n    // finalize any superclasses\n    const superCtor = Object.getPrototypeOf(this);\n    if (typeof superCtor.finalize === 'function') {\n      superCtor.finalize();\n    }\n    this.finalized = true;\n    this._ensureClassProperties();\n    // initialize Map populated in observedAttributes\n    this._attributeToPropertyMap = new Map();\n    // make any properties\n    // Note, only process \"own\" properties since this element will inherit\n    // any properties defined on the superClass, and finalization ensures\n    // the entire prototype chain is finalized.\n    if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n      const props = this.properties;\n      // support symbols in properties (IE11 does not support this)\n      const propKeys = [\n        ...Object.getOwnPropertyNames(props),\n        ...(typeof Object.getOwnPropertySymbols === 'function') ?\n            Object.getOwnPropertySymbols(props) :\n            []\n      ];\n      // This for/of is ok because propKeys is an array\n      for (const p of propKeys) {\n        // note, use of `any` is due to TypeSript lack of support for symbol in\n        // index types\n        // tslint:disable-next-line:no-any no symbol in index\n        this.createProperty(p, (props as any)[p]);\n      }\n    }\n  }\n\n  /**\n   * Returns the property name for the given attribute `name`.\n   * @nocollapse\n   */\n  private static _attributeNameForProperty(\n      name: PropertyKey, options: PropertyDeclaration) {\n    const attribute = options.attribute;\n    return attribute === false ?\n        undefined :\n        (typeof attribute === 'string' ?\n             attribute :\n             (typeof name === 'string' ? name.toLowerCase() : undefined));\n  }\n\n  /**\n   * Returns true if a property should request an update.\n   * Called when a property value is set and uses the `hasChanged`\n   * option for the property if present or a strict identity check.\n   * @nocollapse\n   */\n  private static _valueHasChanged(\n      value: unknown, old: unknown, hasChanged: HasChanged = notEqual) {\n    return hasChanged(value, old);\n  }\n\n  /**\n   * Returns the property value for the given attribute value.\n   * Called via the `attributeChangedCallback` and uses the property's\n   * `converter` or `converter.fromAttribute` property option.\n   * @nocollapse\n   */\n  private static _propertyValueFromAttribute(\n      value: string|null, options: PropertyDeclaration) {\n    const type = options.type;\n    const converter = options.converter || defaultConverter;\n    const fromAttribute =\n        (typeof converter === 'function' ? converter : converter.fromAttribute);\n    return fromAttribute ? fromAttribute(value, type) : value;\n  }\n\n  /**\n   * Returns the attribute value for the given property value. If this\n   * returns undefined, the property will *not* be reflected to an attribute.\n   * If this returns null, the attribute will be removed, otherwise the\n   * attribute will be set to the value.\n   * This uses the property's `reflect` and `type.toAttribute` property options.\n   * @nocollapse\n   */\n  private static _propertyValueToAttribute(\n      value: unknown, options: PropertyDeclaration) {\n    if (options.reflect === undefined) {\n      return;\n    }\n    const type = options.type;\n    const converter = options.converter;\n    const toAttribute =\n        converter && (converter as ComplexAttributeConverter).toAttribute ||\n        defaultConverter.toAttribute;\n    return toAttribute!(value, type);\n  }\n\n  private _updateState: UpdateState = 0;\n  private _instanceProperties: PropertyValues|undefined = undefined;\n  private _updatePromise: Promise<unknown> = microtaskPromise;\n  private _hasConnectedResolver: (() => void)|undefined = undefined;\n\n  /**\n   * Map with keys for any properties that have changed since the last\n   * update cycle with previous values.\n   */\n  private _changedProperties: PropertyValues = new Map();\n\n  /**\n   * Map with keys of properties that should be reflected when updated.\n   */\n  private _reflectingProperties: Map<PropertyKey, PropertyDeclaration>|\n      undefined = undefined;\n\n  constructor() {\n    super();\n    this.initialize();\n  }\n\n  /**\n   * Performs element initialization. By default captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    this._saveInstanceProperties();\n    // ensures first update will be caught by an early access of\n    // `updateComplete`\n    this._requestUpdate();\n  }\n\n  /**\n   * Fixes any properties set on the instance before upgrade time.\n   * Otherwise these would shadow the accessor and break these properties.\n   * The properties are stored in a Map which is played back after the\n   * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n   * (<=41), properties created for native platform properties like (`id` or\n   * `name`) may not have default values set in the element constructor. On\n   * these browsers native properties appear on instances and therefore their\n   * default value will overwrite any element default (e.g. if the element sets\n   * this.id = 'id' in the constructor, the 'id' will become '' since this is\n   * the native platform default).\n   */\n  private _saveInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    (this.constructor as typeof UpdatingElement)\n        ._classProperties!.forEach((_v, p) => {\n          if (this.hasOwnProperty(p)) {\n            const value = this[p as keyof this];\n            delete this[p as keyof this];\n            if (!this._instanceProperties) {\n              this._instanceProperties = new Map();\n            }\n            this._instanceProperties.set(p, value);\n          }\n        });\n  }\n\n  /**\n   * Applies previously saved instance properties.\n   */\n  private _applyInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    // tslint:disable-next-line:no-any\n    this._instanceProperties!.forEach((v, p) => (this as any)[p] = v);\n    this._instanceProperties = undefined;\n  }\n\n  connectedCallback() {\n    this._updateState = this._updateState | STATE_HAS_CONNECTED;\n    // Ensure first connection completes an update. Updates cannot complete\n    // before connection and if one is pending connection the\n    // `_hasConnectionResolver` will exist. If so, resolve it to complete the\n    // update, otherwise requestUpdate.\n    if (this._hasConnectedResolver) {\n      this._hasConnectedResolver();\n      this._hasConnectedResolver = undefined;\n    }\n  }\n\n  /**\n   * Allows for `super.disconnectedCallback()` in extensions while\n   * reserving the possibility of making non-breaking feature additions\n   * when disconnecting at some point in the future.\n   */\n  disconnectedCallback() {\n  }\n\n  /**\n   * Synchronizes property values when attributes change.\n   */\n  attributeChangedCallback(name: string, old: string|null, value: string|null) {\n    if (old !== value) {\n      this._attributeToProperty(name, value);\n    }\n  }\n\n  private _propertyToAttribute(\n      name: PropertyKey, value: unknown,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const attr = ctor._attributeNameForProperty(name, options);\n    if (attr !== undefined) {\n      const attrValue = ctor._propertyValueToAttribute(value, options);\n      // an undefined value does not change the attribute.\n      if (attrValue === undefined) {\n        return;\n      }\n      // Track if the property is being reflected to avoid\n      // setting the property again via `attributeChangedCallback`. Note:\n      // 1. this takes advantage of the fact that the callback is synchronous.\n      // 2. will behave incorrectly if multiple attributes are in the reaction\n      // stack at time of calling. However, since we process attributes\n      // in `update` this should not be possible (or an extreme corner case\n      // that we'd like to discover).\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n      if (attrValue == null) {\n        this.removeAttribute(attr);\n      } else {\n        this.setAttribute(attr, attrValue as string);\n      }\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n    }\n  }\n\n  private _attributeToProperty(name: string, value: string|null) {\n    // Use tracking info to avoid deserializing attribute value if it was\n    // just set from a property setter.\n    if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n      return;\n    }\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const propName = ctor._attributeToPropertyMap.get(name);\n    if (propName !== undefined) {\n      const options =\n          ctor._classProperties!.get(propName) || defaultPropertyDeclaration;\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n      this[propName as keyof this] =\n          // tslint:disable-next-line:no-any\n          ctor._propertyValueFromAttribute(value, options) as any;\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n    }\n  }\n\n  /**\n   * This private version of `requestUpdate` does not access or return the\n   * `updateComplete` promise. This promise can be overridden and is therefore\n   * not free to access.\n   */\n  private _requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    let shouldRequestUpdate = true;\n    // If we have a property key, perform property update steps.\n    if (name !== undefined) {\n      const ctor = this.constructor as typeof UpdatingElement;\n      const options =\n          ctor._classProperties!.get(name) || defaultPropertyDeclaration;\n      if (ctor._valueHasChanged(\n              this[name as keyof this], oldValue, options.hasChanged)) {\n        if (!this._changedProperties.has(name)) {\n          this._changedProperties.set(name, oldValue);\n        }\n        // Add to reflecting properties set.\n        // Note, it's important that every change has a chance to add the\n        // property to `_reflectingProperties`. This ensures setting\n        // attribute + property reflects correctly.\n        if (options.reflect === true &&\n            !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n          if (this._reflectingProperties === undefined) {\n            this._reflectingProperties = new Map();\n          }\n          this._reflectingProperties.set(name, options);\n        }\n      } else {\n        // Abort the request if the property should not be considered changed.\n        shouldRequestUpdate = false;\n      }\n    }\n    if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n      this._enqueueUpdate();\n    }\n  }\n\n  /**\n   * Requests an update which is processed asynchronously. This should\n   * be called when an element should update based on some state not triggered\n   * by setting a property. In this case, pass no arguments. It should also be\n   * called when manually implementing a property setter. In this case, pass the\n   * property `name` and `oldValue` to ensure that any configured property\n   * options are honored. Returns the `updateComplete` Promise which is resolved\n   * when the update completes.\n   *\n   * @param name {PropertyKey} (optional) name of requesting property\n   * @param oldValue {any} (optional) old value of requesting property\n   * @returns {Promise} A Promise that is resolved when the update completes.\n   */\n  requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    this._requestUpdate(name, oldValue);\n    return this.updateComplete;\n  }\n\n  /**\n   * Sets up the element to asynchronously update.\n   */\n  private async _enqueueUpdate() {\n    // Mark state updating...\n    this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n    let resolve!: (r: boolean) => void;\n    let reject!: (e: Error) => void;\n    const previousUpdatePromise = this._updatePromise;\n    this._updatePromise = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n    try {\n      // Ensure any previous update has resolved before updating.\n      // This `await` also ensures that property changes are batched.\n      await previousUpdatePromise;\n    } catch (e) {\n      // Ignore any previous errors. We only care that the previous cycle is\n      // done. Any error should have been handled in the previous update.\n    }\n    // Make sure the element has connected before updating.\n    if (!this._hasConnected) {\n      await new Promise((res) => this._hasConnectedResolver = res);\n    }\n    try {\n      const result = this.performUpdate();\n      // If `performUpdate` returns a Promise, we await it. This is done to\n      // enable coordinating updates with a scheduler. Note, the result is\n      // checked to avoid delaying an additional microtask unless we need to.\n      if (result != null) {\n        await result;\n      }\n    } catch (e) {\n      reject(e);\n    }\n    resolve(!this._hasRequestedUpdate);\n  }\n\n  private get _hasConnected() {\n    return (this._updateState & STATE_HAS_CONNECTED);\n  }\n\n  private get _hasRequestedUpdate() {\n    return (this._updateState & STATE_UPDATE_REQUESTED);\n  }\n\n  protected get hasUpdated() {\n    return (this._updateState & STATE_HAS_UPDATED);\n  }\n\n  /**\n   * Performs an element update. Note, if an exception is thrown during the\n   * update, `firstUpdated` and `updated` will not be called.\n   *\n   * You can override this method to change the timing of updates. If this\n   * method is overridden, `super.performUpdate()` must be called.\n   *\n   * For instance, to schedule updates to occur just before the next frame:\n   *\n   * ```\n   * protected async performUpdate(): Promise<unknown> {\n   *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n   *   super.performUpdate();\n   * }\n   * ```\n   */\n  protected performUpdate(): void|Promise<unknown> {\n    // Mixin instance properties once, if they exist.\n    if (this._instanceProperties) {\n      this._applyInstanceProperties();\n    }\n    let shouldUpdate = false;\n    const changedProperties = this._changedProperties;\n    try {\n      shouldUpdate = this.shouldUpdate(changedProperties);\n      if (shouldUpdate) {\n        this.update(changedProperties);\n      }\n    } catch (e) {\n      // Prevent `firstUpdated` and `updated` from running when there's an\n      // update exception.\n      shouldUpdate = false;\n      throw e;\n    } finally {\n      // Ensure element can accept additional updates after an exception.\n      this._markUpdated();\n    }\n    if (shouldUpdate) {\n      if (!(this._updateState & STATE_HAS_UPDATED)) {\n        this._updateState = this._updateState | STATE_HAS_UPDATED;\n        this.firstUpdated(changedProperties);\n      }\n      this.updated(changedProperties);\n    }\n  }\n\n  private _markUpdated() {\n    this._changedProperties = new Map();\n    this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n  }\n\n  /**\n   * Returns a Promise that resolves when the element has completed updating.\n   * The Promise value is a boolean that is `true` if the element completed the\n   * update without triggering another update. The Promise result is `false` if\n   * a property was set inside `updated()`. If the Promise is rejected, an\n   * exception was thrown during the update. This getter can be implemented to\n   * await additional state. For example, it is sometimes useful to await a\n   * rendered element before fulfilling this Promise. To do this, first await\n   * `super.updateComplete` then any subsequent state.\n   *\n   * @returns {Promise} The Promise returns a boolean that indicates if the\n   * update resolved without triggering another update.\n   */\n  get updateComplete() {\n    return this._updatePromise;\n  }\n\n  /**\n   * Controls whether or not `update` should be called when the element requests\n   * an update. By default, this method always returns `true`, but this can be\n   * customized to control when to update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected shouldUpdate(_changedProperties: PropertyValues): boolean {\n    return true;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes.\n   * It can be overridden to render and keep updated element DOM.\n   * Setting properties inside this method will *not* trigger\n   * another update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(_changedProperties: PropertyValues) {\n    if (this._reflectingProperties !== undefined &&\n        this._reflectingProperties.size > 0) {\n      // Use forEach so this works even if for/of loops are compiled to for\n      // loops expecting arrays\n      this._reflectingProperties.forEach(\n          (v, k) => this._propertyToAttribute(k, this[k as keyof this], v));\n      this._reflectingProperties = undefined;\n    }\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected updated(_changedProperties: PropertyValues) {\n  }\n\n  /**\n   * Invoked when the element is first updated. Implement to perform one time\n   * work on the element after update.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected firstUpdated(_changedProperties: PropertyValues) {\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {LitElement} from '../lit-element.js';\n\nimport {PropertyDeclaration, UpdatingElement} from './updating-element.js';\n\nexport type Constructor<T> = {\n  new (...args: unknown[]): T\n};\n\n// From the TC39 Decorators proposal\ninterface ClassDescriptor {\n  kind: 'class';\n  elements: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n}\n\n// From the TC39 Decorators proposal\ninterface ClassElement {\n  kind: 'field'|'method';\n  key: PropertyKey;\n  placement: 'static'|'prototype'|'own';\n  initializer?: Function;\n  extras?: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n  descriptor?: PropertyDescriptor;\n}\n\nconst legacyCustomElement =\n    (tagName: string, clazz: Constructor<HTMLElement>) => {\n      window.customElements.define(tagName, clazz);\n      // Cast as any because TS doesn't recognize the return type as being a\n      // subtype of the decorated class when clazz is typed as\n      // `Constructor<HTMLElement>` for some reason.\n      // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n      // applied to elements however.\n      // tslint:disable-next-line:no-any\n      return clazz as any;\n    };\n\nconst standardCustomElement =\n    (tagName: string, descriptor: ClassDescriptor) => {\n      const {kind, elements} = descriptor;\n      return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz: Constructor<HTMLElement>) {\n          window.customElements.define(tagName, clazz);\n        }\n      };\n    };\n\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * @param tagName the name of the custom element to define\n */\nexport const customElement = (tagName: string) =>\n    (classOrDescriptor: Constructor<HTMLElement>|ClassDescriptor) =>\n        (typeof classOrDescriptor === 'function') ?\n    legacyCustomElement(tagName, classOrDescriptor) :\n    standardCustomElement(tagName, classOrDescriptor);\n\nconst standardProperty =\n    (options: PropertyDeclaration, element: ClassElement) => {\n      // When decorating an accessor, pass it through and add property metadata.\n      // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n      // stomp over the user's accessor.\n      if (element.kind === 'method' && element.descriptor &&\n          !('value' in element.descriptor)) {\n        return {\n          ...element,\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      } else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n          kind: 'field',\n          key: Symbol(),\n          placement: 'own',\n          descriptor: {},\n          // When @babel/plugin-proposal-decorators implements initializers,\n          // do this instead of the initializer below. See:\n          // https://github.com/babel/babel/issues/9260 extras: [\n          //   {\n          //     kind: 'initializer',\n          //     placement: 'own',\n          //     initializer: descriptor.initializer,\n          //   }\n          // ],\n          initializer(this: {[key: string]: unknown}) {\n            if (typeof element.initializer === 'function') {\n              this[element.key as string] = element.initializer.call(this);\n            }\n          },\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      }\n    };\n\nconst legacyProperty =\n    (options: PropertyDeclaration, proto: Object, name: PropertyKey) => {\n      (proto.constructor as typeof UpdatingElement)\n          .createProperty(name, options);\n    };\n\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A `PropertyDeclaration` may optionally be\n * supplied to configure property features.\n *\n * @ExportDecoratedItems\n */\nexport function property(options?: PropertyDeclaration) {\n  // tslint:disable-next-line:no-any decorator\n  return (protoOrDescriptor: Object|ClassElement, name?: PropertyKey): any =>\n             (name !== undefined) ?\n      legacyProperty(options!, protoOrDescriptor as Object, name) :\n      standardProperty(options!, protoOrDescriptor as ClassElement);\n}\n\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function query(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelector(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function queryAll(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelectorAll(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\nconst legacyQuery =\n    (descriptor: PropertyDescriptor, proto: Object, name: PropertyKey) => {\n      Object.defineProperty(proto, name, descriptor);\n    };\n\nconst standardQuery = (descriptor: PropertyDescriptor, element: ClassElement) =>\n    ({\n      kind: 'method',\n      placement: 'prototype',\n      key: element.key,\n      descriptor,\n    });\n\nconst standardEventOptions =\n    (options: AddEventListenerOptions, element: ClassElement) => {\n      return {\n        ...element,\n        finisher(clazz: typeof UpdatingElement) {\n          Object.assign(\n              clazz.prototype[element.key as keyof UpdatingElement], options);\n        }\n      };\n    };\n\nconst legacyEventOptions =\n    // tslint:disable-next-line:no-any legacy decorator\n    (options: AddEventListenerOptions, proto: any, name: PropertyKey) => {\n      Object.assign(proto[name], options);\n    };\n\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifis event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n *\n *     class MyElement {\n *\n *       clicked = false;\n *\n *       render() {\n *         return html`<div @click=${this._onClick}`><button></button></div>`;\n *       }\n *\n *       @eventOptions({capture: true})\n *       _onClick(e) {\n *         this.clicked = true;\n *       }\n *     }\n */\nexport const eventOptions = (options: AddEventListenerOptions) =>\n    // Return value typed as any to prevent TypeScript from complaining that\n    // standard decorator function signature does not match TypeScript decorator\n    // signature\n    // TODO(kschaaf): unclear why it was only failing on this decorator and not\n    // the others\n    ((protoOrDescriptor: Object|ClassElement, name?: string) =>\n         (name !== undefined) ?\n         legacyEventOptions(options, protoOrDescriptor as Object, name) :\n         standardEventOptions(options, protoOrDescriptor as ClassElement)) as\n        // tslint:disable-next-line:no-any decorator\n        any;\n","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\nexport const supportsAdoptingStyleSheets =\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\n\nconst constructionToken = Symbol();\n\nexport class CSSResult {\n  _styleSheet?: CSSStyleSheet|null;\n\n  readonly cssText: string;\n\n  constructor(cssText: string, safeToken: symbol) {\n    if (safeToken !== constructionToken) {\n      throw new Error(\n          'CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n    }\n    this.cssText = cssText;\n  }\n\n  // Note, this is a getter so that it's lazy. In practice, this means\n  // stylesheets are not created until the first element instance is made.\n  get styleSheet(): CSSStyleSheet|null {\n    if (this._styleSheet === undefined) {\n      // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n      // is constructable.\n      if (supportsAdoptingStyleSheets) {\n        this._styleSheet = new CSSStyleSheet();\n        this._styleSheet.replaceSync(this.cssText);\n      } else {\n        this._styleSheet = null;\n      }\n    }\n    return this._styleSheet;\n  }\n\n  toString(): string {\n    return this.cssText;\n  }\n}\n\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value: unknown) => {\n  return new CSSResult(String(value), constructionToken);\n};\n\nconst textFromCSSResult = (value: CSSResult|number) => {\n  if (value instanceof CSSResult) {\n    return value.cssText;\n  } else if (typeof value === 'number') {\n    return value;\n  } else {\n    throw new Error(\n        `Value passed to 'css' function must be a 'css' function result: ${\n            value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n  }\n};\n\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css =\n    (strings: TemplateStringsArray, ...values: (CSSResult|number)[]) => {\n      const cssText = values.reduce(\n          (acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1],\n          strings[0]);\n      return new CSSResult(cssText, constructionToken);\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport {TemplateResult} from 'lit-html';\nimport {render} from 'lit-html/lib/shady-render.js';\n\nimport {PropertyValues, UpdatingElement} from './lib/updating-element.js';\n\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport {html, svg, TemplateResult, SVGTemplateResult} from 'lit-html/lit-html.js';\nimport {supportsAdoptingStyleSheets, CSSResult} from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n\ndeclare global {\n  interface Window {\n    litElementVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.2.0');\n\nexport interface CSSResultArray extends Array<CSSResult|CSSResultArray> {}\n\n/**\n * Minimal implementation of Array.prototype.flat\n * @param arr the array to flatten\n * @param result the accumlated result\n */\nfunction arrayFlat(\n    styles: CSSResultArray, result: CSSResult[] = []): CSSResult[] {\n  for (let i = 0, length = styles.length; i < length; i++) {\n    const value = styles[i];\n    if (Array.isArray(value)) {\n      arrayFlat(value, result);\n    } else {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/** Deeply flattens styles array. Uses native flat if available. */\nconst flattenStyles = (styles: CSSResultArray): CSSResult[] =>\n    styles.flat ? styles.flat(Infinity) : arrayFlat(styles);\n\nexport class LitElement extends UpdatingElement {\n  /**\n   * Ensure this class is marked as `finalized` as an optimization ensuring\n   * it will not needlessly try to `finalize`.\n   */\n  protected static finalized = true;\n\n  /**\n   * Render method used to render the lit-html TemplateResult to the element's\n   * DOM.\n   * @param {TemplateResult} Template to render.\n   * @param {Element|DocumentFragment} Node into which to render.\n   * @param {String} Element name.\n   * @nocollapse\n   */\n  static render = render;\n\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * using the `css` tag function.\n   */\n  static styles?: CSSResult|CSSResultArray;\n\n  private static _styles: CSSResult[]|undefined;\n\n  /** @nocollapse */\n  protected static finalize() {\n    super.finalize();\n    // Prepare styling that is stamped at first render time. Styling\n    // is built from user provided `styles` or is inherited from the superclass.\n    this._styles =\n        this.hasOwnProperty(JSCompiler_renameProperty('styles', this)) ?\n        this._getUniqueStyles() :\n        this._styles || [];\n  }\n\n  /** @nocollapse */\n  private static _getUniqueStyles(): CSSResult[] {\n    // Take care not to call `this.styles` multiple times since this generates\n    // new CSSResults each time.\n    // TODO(sorvell): Since we do not cache CSSResults by input, any\n    // shared styles will generate new stylesheet objects, which is wasteful.\n    // This should be addressed when a browser ships constructable\n    // stylesheets.\n    const userStyles = this.styles;\n    const styles: CSSResult[] = [];\n    if (Array.isArray(userStyles)) {\n      const flatStyles = flattenStyles(userStyles);\n      // As a performance optimization to avoid duplicated styling that can\n      // occur especially when composing via subclassing, de-duplicate styles\n      // preserving the last item in the list. The last item is kept to\n      // try to preserve cascade order with the assumption that it's most\n      // important that last added styles override previous styles.\n      const styleSet = flatStyles.reduceRight((set, s) => {\n        set.add(s);\n        // on IE set.add does not return the set.\n        return set;\n      }, new Set<CSSResult>());\n      // Array.from does not work on Set in IE\n      styleSet.forEach((v) => styles.unshift(v));\n    } else if (userStyles) {\n      styles.push(userStyles);\n    }\n    return styles;\n  }\n\n  private _needsShimAdoptedStyleSheets?: boolean;\n\n  /**\n   * Node or ShadowRoot into which element DOM should be rendered. Defaults\n   * to an open shadowRoot.\n   */\n  readonly renderRoot!: Element|DocumentFragment;\n\n  /**\n   * Performs element initialization. By default this calls `createRenderRoot`\n   * to create the element `renderRoot` node and captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    super.initialize();\n    (this as {renderRoot: Element | DocumentFragment}).renderRoot =\n        this.createRenderRoot();\n    // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n    // element's getRootNode(). While this could be done, we're choosing not to\n    // support this now since it would require different logic around de-duping.\n    if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n      this.adoptStyles();\n    }\n  }\n\n  /**\n   * Returns the node into which the element should render and by default\n   * creates and returns an open shadowRoot. Implement to customize where the\n   * element's DOM is rendered. For example, to render into the element's\n   * childNodes, return `this`.\n   * @returns {Element|DocumentFragment} Returns a node into which to render.\n   */\n  protected createRenderRoot(): Element|ShadowRoot {\n    return this.attachShadow({mode: 'open'});\n  }\n\n  /**\n   * Applies styling to the element shadowRoot using the `static get styles`\n   * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n   * available and will fallback otherwise. When Shadow DOM is polyfilled,\n   * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n   * is available but `adoptedStyleSheets` is not, styles are appended to the\n   * end of the `shadowRoot` to [mimic spec\n   * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n   */\n  protected adoptStyles() {\n    const styles = (this.constructor as typeof LitElement)._styles!;\n    if (styles.length === 0) {\n      return;\n    }\n    // There are three separate cases here based on Shadow DOM support.\n    // (1) shadowRoot polyfilled: use ShadyCSS\n    // (2) shadowRoot.adoptedStyleSheets available: use it.\n    // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n    // rendering\n    if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n      window.ShadyCSS.ScopingShim.prepareAdoptedCssText(\n          styles.map((s) => s.cssText), this.localName);\n    } else if (supportsAdoptingStyleSheets) {\n      (this.renderRoot as ShadowRoot).adoptedStyleSheets =\n          styles.map((s) => s.styleSheet!);\n    } else {\n      // This must be done after rendering so the actual style insertion is done\n      // in `update`.\n      this._needsShimAdoptedStyleSheets = true;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Note, first update/render handles styleElement so we only call this if\n    // connected after first update.\n    if (this.hasUpdated && window.ShadyCSS !== undefined) {\n      window.ShadyCSS.styleElement(this);\n    }\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes\n   * and calls `render` to render DOM via lit-html. Setting properties inside\n   * this method will *not* trigger another update.\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(changedProperties: PropertyValues) {\n    super.update(changedProperties);\n    const templateResult = this.render() as unknown;\n    if (templateResult instanceof TemplateResult) {\n      (this.constructor as typeof LitElement)\n          .render(\n              templateResult,\n              this.renderRoot,\n              {scopeName: this.localName, eventContext: this});\n    }\n    // When native Shadow DOM is used but adoptedStyles are not supported,\n    // insert styling after rendering to ensure adoptedStyles have highest\n    // priority.\n    if (this._needsShimAdoptedStyleSheets) {\n      this._needsShimAdoptedStyleSheets = false;\n      (this.constructor as typeof LitElement)._styles!.forEach((s) => {\n        const style = document.createElement('style');\n        style.textContent = s.cssText;\n        this.renderRoot.appendChild(style);\n      });\n    }\n  }\n\n  /**\n   * Invoked on each update to perform rendering tasks. This method must return\n   * a lit-html TemplateResult. Setting properties inside this method will *not*\n   * trigger the element to update.\n   */\n  protected render(): TemplateResult|void {\n  }\n}\n","import {html, LitElement} from \"lit-element\";\n\nconst menuSvg = require(\"../../assets/baseline-menu.svg\");\nconst githubIcon = require(\"../../assets/github-icon.svg\");\n\nclass Toolbar extends LitElement {\n\n    //language=HTML\n    render() {\n        return html`\n            <div class=\"toolbar--content\">\n                ${this.iconElement}\n                <div class=\"toolbar--content--left\">\n                    Super Application App\n                </div>\n                <div class=\"toolbar--content--right\">\n                    <a href=\"https://github.com/quackmartins/lit-ts-redux\" \n                       target=\"_blank\"\n                       rel=\"noopener\"\n                        aria-label=\"Github Link\">\n                        Github Link\n                    </a>\n                </div>\n            </div>\n        `;\n    }\n\n\n    protected createRenderRoot(): Element | ShadowRoot {\n        return this;\n    }\n}\n\ncustomElements.define(\"toolbar-element\", Toolbar);\n\nexport {Toolbar}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","/**\n * Created by richard.livingston on 18/02/2017.\n */\n'use strict';\n\nvar util = require('util'),\n\tEE = require('events').EventEmitter;\n\n\nmodule.exports = JSONTreeView;\nutil.inherits(JSONTreeView, EE);\n\n\nfunction JSONTreeView(name_, value_, parent_, isRoot_, regexFilter = null){\n\tvar self = this;\n\n\tif (typeof isRoot_ === 'undefined' && arguments.length < 4) {\n\t\tisRoot_ = true;\n\t}\n\n\tEE.call(self);\n\n\tif(arguments.length < 2){\n\t\tvalue_ = name_;\n\t\tname_ = undefined;\n\t}\n\n\tvar name, value, type, oldType = null, regexFilter = regexFilter, hidden = false,\n\t\treadonly = parent_ ? parent_.readonly : false,\n\t\treadonlyWhenFiltering = parent_ ? parent_.readonlyWhenFiltering : false,\n\t\talwaysShowRoot = false,\n\t\tshowCount = parent_ ? parent_.showCountOfObjectOrArray : true,\n\t\tincludingRootName = true,\n\t\tdomEventListeners = [], children = [], expanded = true,\n\t\tedittingName = false, edittingValue = false,\n\t\tnameEditable = true, valueEditable = true;\n\n\tvar dom = {\n\t\tcontainer : document.createElement('div'),\n\t\tcollapseExpand : document.createElement('div'),\n\t\tname : document.createElement('div'),\n\t\tseparator : document.createElement('div'),\n\t\tvalue : document.createElement('div'),\n\t\tspacing: document.createElement('div'),\n\t\tdelete : document.createElement('div'),\n\t\tchildren : document.createElement('div'),\n\t\tinsert : document.createElement('div')\n\t};\n\n\n\tObject.defineProperties(self, {\n\n\t\tdom : {\n\t\t\tvalue : dom.container,\n\t\t\tenumerable : true\n\t\t},\n\n\t\tisRoot: {\n\t\t\tget : function(){\n\t\t\t\treturn isRoot_;\n\t\t\t}\n\t\t},\n\n\t\tparent: {\n\t\t\tget: function() {\n\t\t\t\treturn parent_;\n\t\t\t}\n\t\t},\n\n\t\tchildren: {\n\t\t\tget: function() {\n\t\t\t\tvar result = null;\n\t\t\t\tif (type === 'array') {\n\t\t\t\t\tresult = children;\n\t\t\t\t}\n\t\t\t\telse if (type === 'object') {\n\t\t\t\t\tresult = {};\n\t\t\t\t\tchildren.forEach(function(e) {\n\t\t\t\t\t\tresult[e.name] = e;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t},\n\n\t\treadonly: {\n\t\t\tget: function() {\n\t\t\t\treturn !!(readonly & 1);\n\t\t\t},\n\t\t\tset: function(ro) {\n\t\t\t\treadonly = setBit(readonly, 0, +ro);\n\t\t\t\t!!(readonly & 1) ? dom.container.classList.add('readonly')\n\t\t\t\t\t\t: dom.container.classList.remove('readonly');\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (typeof children[i] === 'object') {\n\t\t\t\t\t\tchildren[i].readonly = setBit(readonly, 0, +ro);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\treadonlyWhenFiltering: {\n\t\t\tget: function() {\n\t\t\t\treturn readonlyWhenFiltering;\n\t\t\t},\n\t\t\tset: function(rowf) {\n\t\t\t\treadonly = setBit(readonly, 1, +rowf);\n\t\t\t\treadonlyWhenFiltering = rowf;\n\t\t\t\t(readonly && this.filterText) || !!(readonly & 1)\n\t\t\t\t\t\t? dom.container.classList.add('readonly')\n\t\t\t\t\t\t\t\t: dom.container.classList.remove('readonly');\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (typeof children[i] === 'object') {\n\t\t\t\t\t\tchildren[i].readonly = setBit(readonly, 1, +rowf);\n\t\t\t\t\t\tchildren[i].readonlyWhenFiltering = rowf;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thidden: {\n\t\t\tget: function() {\n\t\t\t\treturn hidden;\n\t\t\t},\n\t\t\tset: function(h) {\n\t\t\t\thidden = h;\n\t\t\t\th ? dom.container.classList.add('hidden')\n\t\t\t\t\t\t: dom.container.classList.remove('hidden');\n\t\t\t\tif (!h) {\n\t\t\t\t\tparent_ && (parent_.hidden = h);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowCountOfObjectOrArray: {\n\t\t\tget: function() {\n\t\t\t\treturn showCount;\n\t\t\t},\n\t\t\tset: function(show) {\n\t\t\t\tshowCount = show;\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (typeof children[i] === 'object') {\n\t\t\t\t\t\tchildren[i].showCountOfObjectOrArray = show;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t(this.type === 'object' || this.type === 'array') && this.updateCount();\n\t\t\t}\n\t\t},\n\n\t\tfilterText: {\n\t\t\tget: function() {\n\t\t\t\treturn regexFilter;\n\t\t\t},\n\t\t\tset: function(regex) {\n\t\t\t\tregexFilter = regex;\n\t\t\t\tif (regex) {\n\t\t\t\t\tif (readonly > 0) {\n\t\t\t\t\t\tdom.container.classList.add('readonly');\n\t\t\t\t\t}\n\t\t\t\t\tvar key = this.name + '';\n\t\t\t\t\tvar value = this.value + '';\n\t\t\t\t\tif (this.type === 'object' || this.type === 'array') {\n\t\t\t\t\t\tvalue = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (regex instanceof RegExp) {\n\t\t\t\t\t\tthis.hidden = regex.test(key) || regex.test(value);\n\t\t\t\t\t} else if (key.indexOf(regex) > -1 || value.indexOf(regex) > -1) {\n\t\t\t\t\t\tthis.hidden = false;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (!this.alwaysShowRoot || !isRoot_) {\n\t\t\t\t\t\t\tthis.hidden = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t!this.readonly && dom.container.classList.remove('readonly');\n\t\t\t\t\tthis.hidden = false;\n\t\t\t\t}\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (typeof children[i] === 'object') {\n\t\t\t\t\t\tchildren[i].filterText = regex;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\talwaysShowRoot: {\n\t\t\tget: function() {\n\t\t\t\treturn alwaysShowRoot;\n\t\t\t},\n\t\t\tset: function(value) {\n\t\t\t\tif (isRoot_ && this.filterText) {\n\t\t\t\t\tthis.hidden = !value;\n\t\t\t\t}\n\t\t\t\talwaysShowRoot = value;\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (typeof children[i] === 'object') {\n\t\t\t\t\t\tchildren[i].alwaysShowRoot = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\twithRootName: {\n\t\t\tget: function() {\n\t\t\t\treturn includingRootName;\n\t\t\t},\n\t\t\tset: function(value) {\n\t\t\t\tincludingRootName = value;\n\t\t\t}\n\t\t},\n\n\t\tname : {\n\t\t\tget : function(){\n\t\t\t\treturn name;\n\t\t\t},\n\n\t\t\tset : setName,\n\t\t\tenumerable : true\n\t\t},\n\n\t\tvalue : {\n\t\t\tget : function(){\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tset : setValue,\n\t\t\tenumerable : true\n\t\t},\n\n\t\ttype : {\n\t\t\tget : function(){\n\t\t\t\treturn type;\n\t\t\t},\n\n\t\t\tenumerable : true\n\t\t},\n\n\t\toldType: {\n\t\t\tget: function () {\n\t\t\t\treturn oldType;\n\t\t\t},\n\n\t\t\tenumerable: true\n\t\t},\n\n\t\tnameEditable : {\n\t\t\tget : function(){\n\t\t\t\treturn nameEditable;\n\t\t\t},\n\n\t\t\tset : function(value){\n\t\t\t\tnameEditable = !!value;\n\t\t\t},\n\n\t\t\tenumerable : true\n\t\t},\n\n\t\tvalueEditable : {\n\t\t\tget : function(){\n\t\t\t\treturn valueEditable;\n\t\t\t},\n\n\t\t\tset : function(value){\n\t\t\t\tvalueEditable = !!value;\n\t\t\t},\n\n\t\t\tenumerable : true\n\t\t},\n\n\t\trefresh : {\n\t\t\tvalue : refresh,\n\t\t\tenumerable : true\n\t\t},\n\n\t\tupdateCount: {\n\t\t\tvalue: updateObjectChildCount,\n\t\t\tenumerable: true\n\t\t},\n\n\t\tcollapse : {\n\t\t\tvalue : collapse,\n\t\t\tenumerable : true\n\t\t},\n\n\t\texpand : {\n\t\t\tvalue : expand,\n\t\t\tenumerable : true\n\t\t},\n\n\t\tdestroy : {\n\t\t\tvalue : destroy,\n\t\t\tenumerable : true\n\t\t},\n\n\t\teditName : {\n\t\t\tvalue : editField.bind(null, 'name'),\n\t\t\tenumerable : true\n\t\t},\n\n\t\teditValue : {\n\t\t\tvalue : editField.bind(null, 'value'),\n\t\t\tenumerable : true\n\t\t}\n\n\t});\n\n\n\tObject.keys(dom).forEach(function(k){\n\t\tif (k === 'delete' && self.isRoot) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar element = dom[k];\n\n\t\tif(k == 'container'){\n\t\t\treturn;\n\t\t}\n\n\t\telement.className = k;\n\t\tif (['name', 'separator', 'value', 'spacing'].indexOf(k) > -1) {\n\t\t\telement.className += ' item';\n\t\t}\n\t\tdom.container.appendChild(element);\n\t});\n\n\tdom.container.className = 'jsonView';\n\n\taddDomEventListener(dom.collapseExpand, 'click', onCollapseExpandClick);\n\taddDomEventListener(dom.value, 'click', expand.bind(null, false));\n\taddDomEventListener(dom.name, 'click', expand.bind(null, false));\n\n\taddDomEventListener(dom.name, 'dblclick', editField.bind(null, 'name'));\n\taddDomEventListener(dom.name, 'click', itemClicked.bind(null, 'name'));\n\taddDomEventListener(dom.name, 'blur', editFieldStop.bind(null, 'name'));\n\taddDomEventListener(dom.name, 'keypress',\n\t\t\teditFieldKeyPressed.bind(null, 'name'));\n\taddDomEventListener(dom.name, 'keydown',\n\t\t\teditFieldTabPressed.bind(null, 'name'));\n\n\taddDomEventListener(dom.value, 'dblclick', editField.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'click', itemClicked.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'blur', editFieldStop.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'keypress',\n\t\t\teditFieldKeyPressed.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'keydown',\n\t\t\teditFieldTabPressed.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'keydown', numericValueKeyDown);\n\n\taddDomEventListener(dom.insert, 'click', onInsertClick);\n\taddDomEventListener(dom.delete, 'click', onDeleteClick);\n\n\tsetName(name_);\n\tsetValue(value_);\n\n\tfunction setBit(n, i, b) {\n\t\tvar j = 0;\n\t\twhile ((n >> j << j)) {\n\t\t\tj++;\n\t\t}\n\t\treturn i >= j\n\t\t\t\t? (n | +b << i )\n\t\t\t\t\t\t: (n >> (i + 1) << (i + 1)) | (n % (n >> i << i)) | (+b << i);\n\t}\n\n\n\tfunction squarebracketify(exp) {\n\t\treturn typeof exp === 'string'\n\t\t\t? exp.replace(/\\.([0-9]+)/g, '[$1]') : exp + '';\n\t}\n\n\tfunction refresh(silent){\n\t\tvar expandable = type == 'object' || type == 'array';\n\n\t\tchildren.forEach(function(child){\n\t\t\tchild.refresh(true);\n\t\t});\n\n\t\tdom.collapseExpand.style.display = expandable ? '' : 'none';\n\n\t\tif(expanded && expandable){\n\t\t\texpand(false, silent);\n\t\t}\n\t\telse{\n\t\t\tcollapse(false, silent);\n\t\t}\n\t\tif (!silent) {\n\t\t\tself.emit('refresh', self, [self.name], self.value);\n\t\t}\n\t}\n\n\n\tfunction collapse(recursive, silent){\n\t\tif(recursive){\n\t\t\tchildren.forEach(function(child){\n\t\t\t\tchild.collapse(true, true);\n\t\t\t});\n\t\t}\n\n\t\texpanded = false;\n\n\t\tdom.children.style.display = 'none';\n\t\tdom.collapseExpand.className = 'expand';\n\t\tdom.container.classList.add('collapsed');\n\t\tdom.container.classList.remove('expanded');\n\t\tif (!silent && (type == 'object' || type == 'array')) {\n\t\t\tself.emit('collapse', self, [self.name], self.value);\n\t\t}\n\t}\n\n\tfunction getObjProps(value) {\n\t\tconst props = [\n\t\t\t...new Set([...Object.keys(value),\n\t\t\t...[\n\t\t\t\t...Object.entries(Object.getOwnPropertyDescriptors(value)),\n\t\t\t\t...Object.entries(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(value))),\n\t\t\t].filter(it => it[1].get || it[1].value).map(it => it[0])\n\t\t])].filter(it => it !== \"constructor\");\n\n\t\tprops.sort((a, b) => a.localeCompare(b))\n\n\t\tif (regexFilter instanceof RegExp) {\n\t\t\treturn props.filter(it => regexFilter.test(it));\n\t\t}\n\n\t\treturn props;\n\t}\n\n\tfunction expand(recursive, silent){\n\t\tvar keys;\n\n\t\tif(type == 'object'){\n\t\t\tkeys = getObjProps(value);\n\t\t}\n\t\telse if(type == 'array'){\n\t\t\tkeys = value.map(function(v, k){\n\t\t\t\treturn k;\n\t\t\t});\n\t\t}\n\t\telse{\n\t\t\tkeys = [];\n\t\t}\n\n\t\t// Remove children that no longer exist\n\t\tfor(var i = children.length - 1; i >= 0; i --){\n\t\t\tvar child = children[i];\n\t\t\tif (!child) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(keys.indexOf(child.name) == -1){\n\t\t\t\tchildren.splice(i, 1);\n\t\t\t\tremoveChild(child);\n\t\t\t}\n\t\t}\n\n\t\tif(type != 'object' && type != 'array'){\n\t\t\treturn collapse();\n\t\t}\n\n\t\tkeys.forEach(function(key){\n\t\t\taddChild(key, value[key]);\n\t\t});\n\n\t\tif(recursive){\n\t\t\tchildren.forEach(function(child){\n\t\t\t\tchild.expand(true, true);\n\t\t\t});\n\t\t}\n\n\t\texpanded = true;\n\t\tdom.children.style.display = '';\n\t\tdom.collapseExpand.className = 'collapse';\n\t\tdom.container.classList.add('expanded');\n\t\tdom.container.classList.remove('collapsed');\n\t\tif (!silent && (type == 'object' || type == 'array')) {\n\t\t\tself.emit('expand', self, [self.name], self.value);\n\t\t}\n\t}\n\n\n\tfunction destroy(){\n\t\tvar child, event;\n\n\t\twhile(event = domEventListeners.pop()){\n\t\t\tevent.element.removeEventListener(event.name, event.fn);\n\t\t}\n\n\t\twhile(child = children.pop()){\n\t\t\tremoveChild(child);\n\t\t}\n\t}\n\n\n\tfunction setName(newName){\n\t\tvar nameType = typeof newName,\n\t\t\toldName = name;\n\n\t\tif(newName === name){\n\t\t\treturn;\n\t\t}\n\n\t\tif(nameType != 'string' && nameType != 'number'){\n\t\t\tthrow new Error('Name must be either string or number, ' + newName);\n\t\t}\n\n\t\tdom.name.innerText = newName;\n\t\tname = newName;\n\t\tself.emit('rename', self, [name], oldName, newName, true);\n\t}\n\n\n\tfunction buildObjPresentation(newValue, len) {\n\t\treturn showCount ? `${newValue.constructor.name}[${len}]` : (len < 1 ? `${newValue.constructor.name}{}` : '');\n\t}\n\n\tfunction setValue(newValue){\n\t\tvar oldValue = value,\n\t\t\tstr, len;\n\n\t\tif (isRoot_ && !oldValue) {\n\t\t\toldValue = newValue;\n\t\t}\n\t\ttype = getType(newValue);\n\t\toldType = oldValue ? getType(oldValue) : type;\n\n\t\tswitch(type){\n\t\t\tcase 'null':\n\t\t\t\tstr = 'null';\n\t\t\t\tbreak;\n\n\t\t\tcase 'undefined':\n\t\t\t\tstr = 'undefined';\n\t\t\t\tbreak;\n\n\t\t\tcase 'object':\n\t\t\t\tlen = getObjProps(newValue).length;\n\t\t\t\tstr = buildObjPresentation(newValue, len);\n\t\t\t\tbreak;\n\n\t\t\tcase 'array':\n\t\t\t\tlen = newValue.length;\n\t\t\t\tstr = showCount ? 'Array[' + len + ']' : (len < 1 ? '[]' : '');\n\t\t\t\tbreak;\n\n\t\t\tcase 'function':\n\t\t\t\tstr = 'Function';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tstr = newValue;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tdom.value.innerText = str;\n\t\tdom.value.className = 'value item ' + type;\n\n\t\tif(newValue === value){\n\t\t\treturn;\n\t\t}\n\n\t\tvalue = newValue;\n\n\t\tif(type == 'array' || type == 'object'){\n\t\t\t// Cannot edit objects as string because the formatting is too messy\n\t\t\t// Would have to either pass as JSON and force user to wrap properties in quotes\n\t\t\t// Or first JSON stringify the input before passing, this could allow users to reference globals\n\n\t\t\t// Instead the user can modify individual properties, or just delete the object and start again\n\t\t\tvalueEditable = false;\n\n\t\t\tif(type == 'array'){\n\t\t\t\t// Obviously cannot modify array keys\n\t\t\t\tnameEditable = false;\n\t\t\t}\n\t\t}\n\n\t\tself.emit('change', self, [name], oldValue, newValue);\n\t\trefresh();\n\t}\n\n\n\tfunction updateObjectChildCount() {\n\t\tvar str = '', len;\n\t\tif (type === 'object') {\n\t\t\tlen = getObjProps(value).length;\n\t\t\tstr = buildObjPresentation(value, len);\n\t\t}\n\t\tif (type === 'array') {\n\t\t\tlen = value.length;\n\t\t\tstr = showCount ? 'Array[' + len + ']' : (len < 1 ? '[]' : '');\n\t\t}\n\t\tdom.value.innerText = str;\n\t}\n\n\n\tfunction addChild(key, val){\n\t\tvar child;\n\n\t\tfor(var i = 0, len = children.length; i < len; i ++){\n\t\t\tif(children[i].name == key){\n\t\t\t\tchild = children[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(child){\n\t\t\tchild.value = val;\n\t\t}\n\t\telse{\n\t\t\tchild = new JSONTreeView(key, val, self, false, regexFilter);\n\t\t\tchild.on('rename', onChildRename);\n\t\t\tchild.on('delete', onChildDelete);\n\t\t\tchild.on('change', onChildChange);\n\t\t\tchild.on('append', onChildAppend);\n\t\t\tchild.on('click', onChildClick);\n\t\t\tchild.on('expand', onChildExpand);\n\t\t\tchild.on('collapse', onChildCollapse);\n\t\t\tchild.on('refresh', onChildRefresh);\n\t\t\tchildren.push(child);\n\t\t\tchild.emit('append', child, [key], 'value', val, true);\n\t\t}\n\n\t\tdom.children.appendChild(child.dom);\n\n\t\treturn child;\n\t}\n\n\n\tfunction removeChild(child){\n\t\tif(child.dom.parentNode){\n\t\t\tdom.children.removeChild(child.dom);\n\t\t}\n\n\t\tchild.destroy();\n\t\tchild.emit('delete', child, [child.name], child.value,\n\t\t\tchild.parent.isRoot ? child.parent.oldType : child.parent.type, true);\n\t\tchild.removeAllListeners();\n\t}\n\n\n\tfunction editField(field){\n\t\tif((readonly > 0 && regexFilter) || !!(readonly & 1)) {\n\t\t\treturn;\n\t\t}\n\t\tif(field === 'value' && (type === 'object' || type === 'array')){\n\t\t\treturn;\n\t\t}\n\t\tif(parent_ && parent_.type == 'array'){\n\t\t\t// Obviously cannot modify array keys\n\t\t\tnameEditable = false;\n\t\t}\n\t\tvar editable = field == 'name' ? nameEditable : valueEditable,\n\t\t\telement = dom[field];\n\n\t\tif(!editable && (parent_ && parent_.type === 'array')){\n\t\t\tif (!parent_.inserting) {\n\t\t\t\t// throw new Error('Cannot edit an array index.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif(field == 'value' && type == 'string'){\n\t\t\telement.innerText = '\"' + value + '\"';\n\t\t}\n\n\t\tif(field == 'name'){\n\t\t\tedittingName = true;\n\t\t}\n\n\t\tif(field == 'value'){\n\t\t\tedittingValue = true;\n\t\t}\n\n\t\telement.classList.add('edit');\n\t\telement.setAttribute('contenteditable', true);\n\t\telement.focus();\n\t\tdocument.execCommand('selectAll', false, null);\n\t}\n\n\n\tfunction itemClicked(field) {\n\t\tself.emit('click', self,\n\t\t\t!self.withRootName && self.isRoot ? [''] : [self.name], self.value);\n\t}\n\n\n\tfunction editFieldStop(field){\n\t\tvar element = dom[field];\n\n\t\tif(field == 'name'){\n\t\t\tif(!edittingName){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tedittingName = false;\n\t\t}\n\n\t\tif(field == 'value'){\n\t\t\tif(!edittingValue){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tedittingValue = false;\n\t\t}\n\n\t\tif(field == 'name'){\n\t\t\tvar p = self.parent;\n\t\t\tvar edittingNameText = element.innerText;\n\t\t\tif (p && p.type === 'object' && edittingNameText in p.value) {\n\t\t\t\telement.innerText = name;\n\t\t\t\telement.classList.remove('edit');\n\t\t\t\telement.removeAttribute('contenteditable');\n\t\t\t\t// throw new Error('Name exist, ' + edittingNameText);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetName.call(self, edittingNameText);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tvar text = element.innerText;\n\t\t\ttry{\n\t\t\t\tsetValue(text === 'undefined' ? undefined : JSON.parse(text));\n\t\t\t}\n\t\t\tcatch(err){\n\t\t\t\tsetValue(text);\n\t\t\t}\n\t\t}\n\n\t\telement.classList.remove('edit');\n\t\telement.removeAttribute('contenteditable');\n\t}\n\n\n\tfunction editFieldKeyPressed(field, e){\n\t\tswitch(e.key){\n\t\t\tcase 'Escape':\n\t\t\tcase 'Enter':\n\t\t\t\teditFieldStop(field);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\n\tfunction editFieldTabPressed(field, e){\n\t\tif(e.key == 'Tab'){\n\t\t\teditFieldStop(field);\n\n\t\t\tif(field == 'name'){\n\t\t\t\te.preventDefault();\n\t\t\t\teditField('value');\n\t\t\t}\n\t\t\telse{\n\t\t\t\teditFieldStop(field);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction numericValueKeyDown(e){\n\t\tvar increment = 0, currentValue;\n\n\t\tif(type != 'number'){\n\t\t\treturn;\n\t\t}\n\n\t\tswitch(e.key){\n\t\t\tcase 'ArrowDown':\n\t\t\tcase 'Down':\n\t\t\t\tincrement = -1;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ArrowUp':\n\t\t\tcase 'Up':\n\t\t\t\tincrement = 1;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(e.shiftKey){\n\t\t\tincrement *= 10;\n\t\t}\n\n\t\tif(e.ctrlKey || e.metaKey){\n\t\t\tincrement /= 10;\n\t\t}\n\n\t\tif(increment){\n\t\t\tcurrentValue = parseFloat(dom.value.innerText);\n\n\t\t\tif(!isNaN(currentValue)){\n\t\t\t\tsetValue(Number((currentValue + increment).toFixed(10)));\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction getType(value){\n\t\tvar type = typeof value;\n\n\t\tif(type == 'object'){\n\t\t\tif(value === null){\n\t\t\t\treturn 'null';\n\t\t\t}\n\n\t\t\tif(Array.isArray(value)){\n\t\t\t\treturn 'array';\n\t\t\t}\n\t\t}\n\t\tif (type === 'undefined') {\n\t\t\treturn 'undefined';\n\t\t}\n\n\t\treturn type;\n\t}\n\n\n\tfunction onCollapseExpandClick(){\n\t\tif(expanded){\n\t\t\tcollapse();\n\t\t}\n\t\telse{\n\t\t\texpand();\n\t\t}\n\t}\n\n\n\tfunction onInsertClick(){\n\t\tvar newName = type == 'array' ? value.length : undefined,\n\t\t\tchild = addChild(newName, null);\n\t\tif (child.parent) {\n\t\t\tchild.parent.inserting = true;\n\t\t}\n\t\tif(type == 'array'){\n\t\t\tvalue.push(null);\n\t\t\tchild.editValue();\n\t\t\tchild.emit('append', self, [value.length - 1], 'value', null, true);\n\t\t\tif (child.parent) {\n\t\t\t\tchild.parent.inserting = false;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tchild.editName();\n\t\t}\n\t}\n\n\n\tfunction onDeleteClick(){\n\t\tself.emit('delete', self, [self.name], self.value,\n\t\t\tself.parent.isRoot ? self.parent.oldType : self.parent.type, false);\n\t}\n\n\n\tfunction onChildRename(child, keyPath, oldName, newName, original){\n\t\tvar allow = newName && type != 'array' && !(newName in value) && original;\n\t\tif(allow){\n\t\t\tvalue[newName] = child.value;\n\t\t\tdelete value[oldName];\n\t\t\tif (self.inserting) {\n\t\t\t\tchild.emit('append', child, [newName], 'name', newName, true);\n\t\t\t\tself.inserting = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\telse if(oldName === undefined){\n\t\t\t// A new node inserted via the UI\n\t\t\toriginal && removeChild(child);\n\t\t}\n\t\telse if (original){\n\t\t\t// Cannot rename array keys, or duplicate object key names\n\t\t\tchild.name = oldName;\n\t\t\treturn;\n\t\t}\n\t\t// value[keyPath] = newName;\n\n\t\t// child.once('rename', onChildRename);\n\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\telse if (self.withRootName && self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tif (oldName !== undefined) {\n\t\t\tself.emit('rename', child, keyPath, oldName, newName, false);\n\t\t}\n\t}\n\n\n\tfunction onChildAppend(child, keyPath, nameOrValue, newValue, sender){\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('append', child, keyPath, nameOrValue, newValue, false);\n\t\tsender && updateObjectChildCount();\n\t}\n\n\n\tfunction onChildChange(child, keyPath, oldValue, newValue, recursed){\n\t\tif(!recursed){\n\t\t\tvalue[keyPath] = newValue;\n\t\t}\n\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('change', child, keyPath, oldValue, newValue, true);\n\t}\n\n\n\tfunction onChildDelete(child, keyPath, deletedValue, parentType, passive){\n\t\tvar key = child.name;\n\n\t\tif (passive) {\n\t\t\tif (self.withRootName/* || !self.isRoot*/) {\n\t\t\t\tkeyPath.unshift(name);\n\t\t\t}\n\t\t\tself.emit('delete', child, keyPath, deletedValue, parentType, passive);\n\t\t\tupdateObjectChildCount();\n\t\t}\n\t\telse {\n\t\t\tif (type == 'array') {\n\t\t\t\tvalue.splice(key, 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdelete value[key];\n\t\t\t}\n\t\t\trefresh(true);\n\t\t}\n\t}\n\n\n\tfunction onChildClick(child, keyPath, value) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('click', child, keyPath, value);\n\t}\n\n\n\tfunction onChildExpand(child, keyPath, value) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('expand', child, keyPath, value);\n\t}\n\n\n\tfunction onChildCollapse(child, keyPath, value) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('collapse', child, keyPath, value);\n\t}\n\n\n\tfunction onChildRefresh(child, keyPath, value) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('refresh', child, keyPath, value);\n\t}\n\n\n\tfunction addDomEventListener(element, name, fn){\n\t\telement.addEventListener(name, fn);\n\t\tdomEventListeners.push({element : element, name : name, fn : fn});\n\t}\n}\n","import {html, LitElement, property, TemplateResult} from \"lit-element\";\nimport {Application} from \"../application\";\n\nconst JSONTreeView = require(\"./json-tree-view/JSONView\");\n\n\nclass AppikConsole extends LitElement {\n\n    _app: Application;\n    walkIndex = -1;\n\n    @property()\n    private _inputHistory = [];\n\n    @property()\n    private evaluations = [] as any[];\n\n    @property()\n    set resource(resourceName) {\n        const input = this.getCodeInput();\n        input.value = `application.get(\"${resourceName}\")`;\n        input.focus();\n        this.evaluate()\n    }\n\n    @property()\n    set app(val) {\n        this._app = val\n    }\n\n    constructor() {\n        super();\n        this.addEventListener(\"click\", () => {\n            this.renderRoot.querySelector(\"input\").focus();\n        });\n    }\n\n    buildSandBox(vars) {\n        return function (code): any {\n            try {\n                return eval(`( \n                function () {\n                    ${Object.keys(vars).map(varName => `\n                        const ${varName} = vars[\"${varName}\"]\n                    `).join(\";\")}\n                    \n                    return ${code};\n                }\n            )()`);\n            } catch (e) {\n                console.error(e);\n                return e;\n            }\n        };\n    }\n\n\n    evaluate(e: KeyboardEvent) {\n        if (!(e.code == \"Enter\" || e.code == \"NumpadEnter\")) {\n            return\n        }\n\n        const help = () => {\n            return html`\n            <code>\n                <strong>\n                    Welcome to the App console <br>\n                    debug your app by using the variables: <br>\n                </strong>\n                <div>--</div>\n                <div>application</div>\n                <div>help()</div>\n                <div>clear()</div>\n            </code>\n        `\n        };\n\n        const clear = () => {\n            this.evaluations = [];\n        };\n\n\n        const sandbox = this.buildSandBox({application: this._app, help, clear});\n        const input = this.getCodeInput();\n        const evalResult = sandbox(input.value);\n\n        if (evalResult instanceof TemplateResult) {\n            this.evaluations = [...this.evaluations, evalResult];\n        } else {\n            const view = new JSONTreeView(\"\", evalResult, undefined, undefined, /^[^_]/);\n            view.readonly = true;\n            this.evaluations = [...this.evaluations, view.dom];\n        }\n\n        if (input.value != this._inputHistory[this._inputHistory.length - 1]) {\n            this._inputHistory = [input.value, ...this._inputHistory];\n        }\n        input.value = \"\";\n        this.walkIndex = -1;\n    }\n\n    private getCodeInput() {\n        return this.renderRoot.querySelector(`input`);\n    }\n\n    private walkHistory(e: KeyboardEvent) {\n        let arrowed = false;\n\n        switch (e.code) {\n            case \"ArrowUp\":\n                this.walkIndex += 1;\n                arrowed = true;\n                break;\n            case \"ArrowDown\":\n                this.walkIndex -= 1;\n                arrowed = true;\n                break;\n        }\n\n        if (arrowed) {\n            this.walkIndex = Math.max(-1, Math.min(this._inputHistory.length, this.walkIndex));\n            const pastValue = this._inputHistory[this.walkIndex];\n            const input = this.getCodeInput();\n            input.value = pastValue === undefined ? \"\" : pastValue;\n            requestAnimationFrame(() => {\n                input.selectionEnd = input.value.length;\n                input.selectionStart = input.value.length;\n            });\n        }\n    }\n\n    render() {\n        //language=HTML\n        return html`\n            <style>\n                * {\n                    box-sizing: border-box;\n                }\n            \n                :host {\n                    display: block;\n                    font-size: 14px;\n                    font-family: monospace;\n                    background: #454545;\n                    color: #bbb;\n                    display: flex;\n                    flex-direction: column;\n                    flex-grow: 0;\n                    overflow: auto;     \n                }\n            \n                .jsonView {\n                    margin-left: 20px;\n                    padding: 2px;\n                    cursor: default;\n                    color: rgb(156, 156, 156);\n                    white-space: nowrap;\n                    -webkit-user-select: none;\n                }\n\n                .jsonView > div {\n                    display: inline-block;\n                }\n\n                .jsonView.hidden {\n                    display: none;\n                }\n\n                .jsonView > .children, .jsonView.insert {\n                    display: block;\n                }\n\n                .jsonView > .name {\n                    color: rgb(172,101,180);\n                }\n\n                .jsonView > .separator:before {\n                    content: \":\";\n                }\n\n                .jsonView > .separator {\n                    padding-right: 5px;\n                }\n\n                .jsonView > .spacing {\n                    display: inline-block;\n                    width: 15px;\n                }\n\n                .jsonView > .spacing::before {\n                    content: '1';\n                    visibility: hidden;\n                }\n\n                .jsonView > .value.null, .jsonView > .value.undefined {\n                    color: rgb(128, 128, 128);\n                }\n\n                .jsonView > .value.boolean, .jsonView > .value.number {\n                    color: rgb(50,133,207);\n                }\n\n                .jsonView > .value.string:not(.edit):before, .jsonView > .value.string:not(.edit):after {\n                    content: \"\\\\\" \";\n                }\n\n                .jsonView > .value.string {\n                    color: rgb(196, 26, 22);\n                }\n\n                .jsonView > .name:hover, .jsonView > .value:hover {\n                    background-color: rgba(56, 121, 217, 0.1);\n                }\n\n                .jsonView > .expand, .jsonView > .collapse {\n                    min-width: 20px;\n                    margin-left: -20px;\n                    cursor: pointer;\n                }\n\n                .jsonView > .expand:before {\n                    content: '\\\\25B6';\n                }\n\n                .jsonView > .collapse:before {\n                    content: '\\\\25BC';\n                }\n\n                .jsonView > .edit {\n                    padding: 0px 5px 0px 5px;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    background-color: transparent;\n                }\n\n                .jsonView > .edit br {\n                    display: none;\n                }\n\n                .jsonView > .edit * {\n                    display: inline;\n                    white-space: nowrap;\n                }\n\n                .jsonView > .value.edit {\n                    color: rgb(0, 0, 0);\n                }\n\n                .jsonView > .delete:before {\n                    content: '+';\n                    transform: rotate(45deg);\n                    -webkit-transform: rotate(45deg);\n                    -o-transform: rotate(45deg);\n                    -ms-transform: rotate(45deg);\n                    display: inline-block;\n                }\n\n                .jsonView > .delete {\n                    opacity: 0;\n                    display: inline;\n                    padding: 3px;\n                    cursor: pointer;\n                    color: rgb(150, 150, 150);\n                }\n\n                .jsonView > .item:hover ~ .delete {\n                    opacity: 1;\n                    color: rgb(150, 150, 150);\n                }\n\n                .jsonView > .delete:hover {\n                    opacity: 1;\n                    color: rgb(0, 0, 0);\n                    background: rgb(220, 220, 220);\n                }\n\n                .jsonView.readonly > .insert, .jsonView.readonly > .delete {\n                    display: none !important;\n                }\n\n                .jsonView > .insert:before {\n                    content: '+';\n                }\n\n                .jsonView > .insert {\n                    display: none;\n                    color: rgb(150, 150, 150);\n                    cursor: pointer;\n                }\n\n                .jsonView.expanded > .insert, .jsonView.expanded > .insert {\n                    display: inline-block;\n                    margin-left: 20px;\n                    padding: 3px;\n                }\n\n                .jsonView > .insert:hover {\n                    color: rgb(0, 0, 0);\n                    background: rgb(220, 220, 220);\n                }\n            </style>\n            \n            <div style=\"font-size: 14px; font-family: monospace; background: #454545; color: #bbb; display: flex; flex-direction: column; flex-grow: 0\">\n                <div style=\"flex-shrink: 1\" .hidden=\"${!this.evaluations.length}\">\n                    ${this.evaluations.map(it => html`\n                        <div style=\"border-bottom: 1px solid rgba(0,0,0,.15); padding-left: 2ch\">${it}</div>\n                    `)}\n                </div>\n                <div style=\"flex-grow: 1; width: 400px\" @click=\"${() => this.renderRoot.querySelector(\"input\").focus()}\">\n                    <input @keypress=\"${this.evaluate}\" @keydown=\"${this.walkHistory}\" placeholder=\"help()\" style=\"width: 100%; padding: 10px 5px; padding-left: 2ch; font-size: inherit; flex-shrink: 0; outline: none; background: inherit; border: none; color: #bbb\"/>\n                </div>\n            </div>\n        `\n    }\n\n}\n\ncustomElements.define(\"appik-console\", AppikConsole);\n","import {html, LitElement, property} from \"lit-element\";\nimport {Application} from \"../application\";\n\nimport \"./appik-console\";\n\n\nclass AppikInspector extends LitElement {\n\n    private _app: Application;\n\n    @property()\n    set app(app: Application) {\n        app.subscribeResourceChanges(() => this.requestUpdate());\n        app.subscribeRoutes(() => this.requestUpdate());\n        this._app = app;\n    }\n\n    render() {\n        //language=HTML\n        const {_router} = this._app;\n        const resources = this.getResources();\n\n        const routeAliases = Object.keys(_router._routes);\n        const resourceAliases = Object.keys(resources);\n\n        return html`\n\n            <style>\n                * {\n                    box-sizing: border-box;\n                }\n                \n                button {\n                    cursor: pointer;\n                    padding: 10px;\n                    border: none;\n                    background: #aaa;\n                    border-radius: 2px;\n                    box-shadow: 0 2px 2px rgba(0,0,0,.45);\n                    outline: none;\n                    transition: .2s\n                }\n                \n                button:focus, button:hover {\n                    background: #fff;\n                }\n            \n                :host {\n                    font-family: Roboto, arial, sans-serif;\n                    color: #444;\n                    display: block;\n                    background: #555;\n                    box-shadow: 0 5px 25px -5px rgba(0,0,0,.5);\n                    z-index: 15000;\n                    height: 100%;\n                }\n            </style>\n            \n            <div style=\"display: flex; height: 100%\">\n                \n                <div style=\"flex-grow: 1; flex-shrink: 0;color: #bbb\">\n                    <div style=\"padding: 10px\">\n                        <strong>Routes:</strong> \n                        <div>\n                            ${routeAliases.map(it => html`\n                                <button @click=\"${() => this._app.goTo(_router._routes[it])}\" style=\"font-weight: ${it == this._app._router._currentRouteContext.alias ? 'bold' : 'normal'}\">${it}</button>\n                            `)}\n                        </div>\n                    </div>\n                    <div style=\"padding: 10px\">\n                        <strong>\n                            Resources:\n                        </strong> \n                        <div>\n                            ${resourceAliases.map(it => html`\n                                <button @click=\"${() => this.inputResourceCode(it)}\">${it}</button>\n                            `)}\n                        </div>\n                    </div>\n                </div>\n                \n                <appik-console .app=\"${this._app}\"/>\n            </div>\n            \n        `;\n    }\n\n    inputResourceCode(resourceName) {\n        this.renderRoot.querySelector(`appik-console`).resource = resourceName;\n    }\n\n    private getResources() {\n        return this._app._resourceManager._resources;\n    }\n}\n\nconst openAppikInspector = (() => {\n    let popup = undefined as Window;\n\n    return function (app: Application): void {\n        if (!customElements.get(\"appik-inspector\")) {\n            customElements.define(\"appik-inspector\", AppikInspector);\n        }\n\n        const inspectorElm = document.createElement(\"appik-inspector\") as AppikInspector;\n        inspectorElm.app = app;\n\n        if (popup) {\n            popup.close();\n        }\n\n        popup = window.open(window.location.origin, 'popUpWindow', 'height=500,width=1080,left=750,top=50,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=no');\n        popup.addEventListener(\"DOMContentLoaded\", () => {\n            popup.document.head.innerHTML = \"\";\n            popup.document.body.innerHTML = \"\";\n            popup.document.body.style.margin = \"0\";\n            popup.document.body.parentElement.style.height = \"100%\";\n            popup.document.body.style.height = \"100%\";\n            popup.document.title = \"Application Inspector\";\n            popup.document.body.appendChild(inspectorElm);\n        });\n    }\n})();\n\nexport {openAppikInspector, AppikInspector}\n","import {customElement, html, LitElement} from \"lit-element\";\nimport {app} from \"../../application/app\";\nimport {openAppikInspector} from \"../../core/ui/appik-inspector\";\n\n@customElement(\"drawer-element\")\nclass Drawer extends LitElement {\n\n    render() {\n        return html`\n            <a class=\"drawer--item\" href=\"${app.link(\"counter\")}\">Counter</a>\n            <a class=\"drawer--item\" href=\"${app.link(\"form\")}\">Form</a>\n            <a class=\"drawer--item\" href=\"${app.link(\"github\")}\">Github Stats</a>\n            <span class=\"drawer--item\" @click=\"${() => openAppikInspector(app)}\">Open Inspector</span>            \n        `;\n    }\n\n\n    protected createRenderRoot(): Element | ShadowRoot {\n        return this;\n    }\n}\n","import \"./components/toolbar\";\nimport \"./components/drawer\";\nimport {app} from \"../application/app\";\nimport {customElement, LitElement} from \"lit-element\";\n\n@customElement(\"app-manager\")\nclass AppManager extends LitElement {\n\n    constructor() {\n        super();\n\n        this.addEventListener(\"inject\", async (e: CustomEvent) => {\n\n            const elm = e.detail.element;\n            const mapping = elm.getAttributeNames().filter(it => /inject-/.test(it)).reduce((mapping, attrName) => {\n                const propName = attrName.replace(/^inject-/, \"\");\n                return {...mapping, [propName]: elm.getAttribute(attrName)}\n            }, {});\n            const properties = Object.keys(mapping);\n\n\n            app.subscribeResourceChanges(() => {\n                //TODO: Improve... prevent injection if they keep the same of the last time\n                const injection = properties.reduce((propResources, propName) => {\n                    const resourceName = mapping[propName];\n                    propResources[propName] = app.get(resourceName);\n                    return propResources;\n                }, {});\n\n                Object.assign(elm, injection);\n            });\n\n            // TODO: on elm disconnectedCallback we need to unsubscribe\n        })\n\n    }\n\n    protected createRenderRoot(): Element | ShadowRoot {\n        return undefined;\n    }\n}\n","import \"./styles/styles.scss\";\nimport \"./styles/critical-path.scss\";\n\nimport {app} from \"./application/app\";\n\napp.start();\n\nrequire(\"./ui/app-manager\");\n","import {LitElement} from \"lit-element\";\nimport {Subscribable} from \"../core/subscribable\";\n\nabstract class SimpleElement extends LitElement {\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback(): void {\n        super.connectedCallback();\n        if (this.getAttributeNames().filter(it => /^inject-/.test(it)).length > 0) {\n            this.dispatchInjectRequest();\n        }\n    }\n\n    dispatchInjectRequest() {\n        this.dispatchEvent(new CustomEvent(\"inject\", {bubbles: true, detail: {element: this}}));\n    }\n\n    subscribe(propName: string, resource: Subscribable) {\n        this[propName] && (this[propName] as Subscribable).unsubscribe(this);\n        this[propName] = resource.subscribe(() => this.requestUpdate());\n    }\n\n    protected createRenderRoot(): Element | ShadowRoot {\n        return this;\n    }\n\n\n}\n\nexport { SimpleElement }\n","import {SimpleElement} from \"./simple-element\";\nimport {app} from \"../application/app\";\n\nabstract class PageElement extends SimpleElement {\n\n    constructor() {\n        super();\n        app.subscribeRoutes((routeContext) => {\n            const matchRoute = routeContext.alias === this.getRouteName();\n            this.style.display = matchRoute ? '' : 'none';\n        })\n    }\n\n    getRouteName() {\n        return this.tagName.toLocaleLowerCase().replace(/^page-/, \"\");\n    }\n\n}\n\nexport {PageElement};\n","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}